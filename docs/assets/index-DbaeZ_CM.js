var Xs=Object.defineProperty;var qs=(t,e,r)=>e in t?Xs(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var nn=(t,e,r)=>(qs(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function n(a){if(a.ep)return;a.ep=!0;const u=r(a);fetch(a.href,u)}})();function Ue(){}function zi(t){return t()}function nu(){return Object.create(null)}function Ye(t){t.forEach(zi)}function Bi(t){return typeof t=="function"}function xt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let pr;function au(t,e){return t===e?!0:(pr||(pr=document.createElement("a")),pr.href=e,t===pr.href)}function Ys(t){return Object.keys(t).length===0}function m(t,e){t.appendChild(e)}function X(t,e,r){t.insertBefore(e,r||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function Wi(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function x(t){return document.createElement(t)}function ke(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Ee(t){return document.createTextNode(t)}function W(){return Ee(" ")}function Ar(){return Ee("")}function ue(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function Js(t){return function(e){e.target===this&&t.call(this,e)}}function c(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Qs(t){return Array.from(t.childNodes)}function Lt(t,e){e=""+e,t.data!==e&&(t.data=e)}function Pe(t,e){t.value=e??""}function ce(t,e,r,n){r==null?t.style.removeProperty(e):t.style.setProperty(e,r,"")}function Er(t,e,r){for(let n=0;n<t.options.length;n+=1){const a=t.options[n];if(a.__value===e){a.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Hi(t){const e=t.querySelector(":checked");return e&&e.__value}function uu(t,e,r){t.classList.toggle(e,!!r)}function Ks(t,e,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(t,{detail:e,bubbles:r,cancelable:n})}let Kt;function Yt(t){Kt=t}function ra(){if(!Kt)throw new Error("Function called outside component initialization");return Kt}function na(t){ra().$$.on_mount.push(t)}function el(t){ra().$$.on_destroy.push(t)}function Dr(){const t=ra();return(e,r,{cancelable:n=!1}={})=>{const a=t.$$.callbacks[e];if(a){const u=Ks(e,r,{cancelable:n});return a.slice().forEach(i=>{i.call(t,u)}),!u.defaultPrevented}return!0}}const Dt=[],Rt=[];let jt=[];const Mn=[],tl=Promise.resolve();let Ln=!1;function rl(){Ln||(Ln=!0,tl.then(Zi))}function er(t){jt.push(t)}function Gi(t){Mn.push(t)}const an=new Set;let Ut=0;function Zi(){if(Ut!==0)return;const t=Kt;do{try{for(;Ut<Dt.length;){const e=Dt[Ut];Ut++,Yt(e),nl(e.$$)}}catch(e){throw Dt.length=0,Ut=0,e}for(Yt(null),Dt.length=0,Ut=0;Rt.length;)Rt.pop()();for(let e=0;e<jt.length;e+=1){const r=jt[e];an.has(r)||(an.add(r),r())}jt.length=0}while(Dt.length);for(;Mn.length;)Mn.pop()();Ln=!1,an.clear(),Yt(t)}function nl(t){if(t.fragment!==null){t.update(),Ye(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(er)}}function al(t){const e=[],r=[];jt.forEach(n=>t.indexOf(n)===-1?e.push(n):r.push(n)),r.forEach(n=>n()),jt=e}const xr=new Set;let yt;function Vi(){yt={r:0,c:[],p:yt}}function Xi(){yt.r||Ye(yt.c),yt=yt.p}function qe(t,e){t&&t.i&&(xr.delete(t),t.i(e))}function ot(t,e,r,n){if(t&&t.o){if(xr.has(t))return;xr.add(t),yt.c.push(()=>{xr.delete(t),n&&(r&&t.d(1),n())}),t.o(e)}else n&&n()}function Ft(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function ul(t,e){t.d(1),e.delete(t.key)}function il(t,e,r,n,a,u,i,o,l,d,h,f){let p=t.length,b=u.length,w=p;const _={};for(;w--;)_[t[w].key]=w;const y=[],k=new Map,U=new Map,j=[];for(w=b;w--;){const $=f(a,u,w),J=r($);let ae=i.get(J);ae?j.push(()=>ae.p($,e)):(ae=d(J,$),ae.c()),k.set(J,y[w]=ae),J in _&&U.set(J,Math.abs(w-_[J]))}const F=new Set,z=new Set;function q($){qe($,1),$.m(o,h),i.set($.key,$),h=$.first,b--}for(;p&&b;){const $=y[b-1],J=t[p-1],ae=$.key,Q=J.key;$===J?(h=$.first,p--,b--):k.has(Q)?!i.has(ae)||F.has(ae)?q($):z.has(Q)?p--:U.get(ae)>U.get(Q)?(z.add(ae),q($)):(F.add(Q),p--):(l(J,i),p--)}for(;p--;){const $=t[p];k.has($.key)||l($,i)}for(;b;)q(y[b-1]);return Ye(j),y}function qi(t,e,r){const n=t.$$.props[e];n!==void 0&&(t.$$.bound[n]=r,r(t.$$.ctx[n]))}function Mt(t){t&&t.c()}function wt(t,e,r){const{fragment:n,after_update:a}=t.$$;n&&n.m(e,r),er(()=>{const u=t.$$.on_mount.map(zi).filter(Bi);t.$$.on_destroy?t.$$.on_destroy.push(...u):Ye(u),t.$$.on_mount=[]}),a.forEach(er)}function _t(t,e){const r=t.$$;r.fragment!==null&&(al(r.after_update),Ye(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function ol(t,e){t.$$.dirty[0]===-1&&(Dt.push(t),rl(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ct(t,e,r,n,a,u,i=null,o=[-1]){const l=Kt;Yt(t);const d=t.$$={fragment:null,ctx:[],props:u,update:Ue,not_equal:a,bound:nu(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:nu(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};i&&i(d.root);let h=!1;if(d.ctx=r?r(t,e.props||{},(f,p,...b)=>{const w=b.length?b[0]:p;return d.ctx&&a(d.ctx[f],d.ctx[f]=w)&&(!d.skip_bound&&d.bound[f]&&d.bound[f](w),h&&ol(t,f)),p}):[],d.update(),h=!0,Ye(d.before_update),d.fragment=n?n(d.ctx):!1,e.target){if(e.hydrate){const f=Qs(e.target);d.fragment&&d.fragment.l(f),f.forEach(V)}else d.fragment&&d.fragment.c();e.intro&&qe(t.$$.fragment),wt(t,e.target,e.anchor),Zi()}Yt(l)}class St{constructor(){nn(this,"$$");nn(this,"$$set")}$destroy(){_t(this,1),this.$destroy=Ue}$on(e,r){if(!Bi(r))return Ue;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(r),()=>{const a=n.indexOf(r);a!==-1&&n.splice(a,1)}}$set(e){this.$$set&&!Ys(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const sl="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sl);var Jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function aa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ct=function(t){return typeof t=="object"?t!==null:typeof t=="function"},ll=ct,Je=function(t){if(!ll(t))throw TypeError(t+" is not an object!");return t},Ir=function(t){if(t==null)throw TypeError("Can't call method on  "+t);return t},dl=Ir,vt=function(t){return Object(dl(t))},cl=Math.ceil,fl=Math.floor,Mr=function(t){return isNaN(t=+t)?0:(t>0?fl:cl)(t)},hl=Mr,vl=Math.min,Et=function(t){return t>0?vl(hl(t),9007199254740991):0},pl=Mr,gl=Ir,Yi=function(t){return function(e,r){var n=String(gl(e)),a=pl(r),u=n.length,i,o;return a<0||a>=u?t?"":void 0:(i=n.charCodeAt(a),i<55296||i>56319||a+1===u||(o=n.charCodeAt(a+1))<56320||o>57343?t?n.charAt(a):i:t?n.slice(a,a+2):(i-55296<<10)+(o-56320)+65536)}},ml=Yi(!0),ua=function(t,e,r){return e+(r?ml(t,e).length:1)},bl={}.toString,Lr=function(t){return bl.call(t).slice(8,-1)},Ji={exports:{}},Qi={exports:{}},Ki={exports:{}},yl=Ki.exports={version:"2.6.12"};typeof __e=="number"&&(__e=yl);var zt=Ki.exports,eo={exports:{}},wl=eo.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=wl);var tt=eo.exports,_l=!1,kl=zt,iu=tt,ou="__core-js_shared__",su=iu[ou]||(iu[ou]={});(Qi.exports=function(t,e){return su[t]||(su[t]=e!==void 0?e:{})})("versions",[]).push({version:kl.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var jr=Qi.exports,xl=0,Cl=Math.random(),nr=function(t){return"Symbol(".concat(t===void 0?"":t,")_",(++xl+Cl).toString(36))},jn=jr("wks"),Sl=nr,Rn=tt.Symbol,lu=typeof Rn=="function",El=Ji.exports=function(t){return jn[t]||(jn[t]=lu&&Rn[t]||(lu?Rn:Sl)("Symbol."+t))};El.store=jn;var De=Ji.exports,Fn=Lr,Ol=De("toStringTag"),Tl=Fn(function(){return arguments}())=="Arguments",$l=function(t,e){try{return t[e]}catch{}},ia=function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=$l(e=Object(t),Ol))=="string"?r:Tl?Fn(e):(n=Fn(e))=="Object"&&typeof e.callee=="function"?"Arguments":n},Pl=ia,Ul=RegExp.prototype.exec,oa=function(t,e){var r=t.exec;if(typeof r=="function"){var n=r.call(t,e);if(typeof n!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if(Pl(t)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return Ul.call(t,e)},Al=Je,Rr=function(){var t=Al(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},Dl=Rr,Or=RegExp.prototype.exec,Il=String.prototype.replace,to=Or,Tr="lastIndex",Nn=function(){var t=/a/,e=/b*/g;return Or.call(t,"a"),Or.call(e,"a"),t[Tr]!==0||e[Tr]!==0}(),zn=/()??/.exec("")[1]!==void 0,Ml=Nn||zn;Ml&&(to=function(e){var r=this,n,a,u,i;return zn&&(a=new RegExp("^"+r.source+"$(?!\\s)",Dl.call(r))),Nn&&(n=r[Tr]),u=Or.call(r,e),Nn&&u&&(r[Tr]=r.global?u.index+u[0].length:n),zn&&u&&u.length>1&&Il.call(u[0],a,function(){for(i=1;i<arguments.length-2;i++)arguments[i]===void 0&&(u[i]=void 0)}),u});var sa=to,rt={},it=function(t){try{return!!t()}catch{return!0}},nt=!it(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),un,du;function ro(){if(du)return un;du=1;var t=ct,e=tt.document,r=t(e)&&t(e.createElement);return un=function(n){return r?e.createElement(n):{}},un}var no=!nt&&!it(function(){return Object.defineProperty(ro()("div"),"a",{get:function(){return 7}}).a!=7}),gr=ct,la=function(t,e){if(!gr(t))return t;var r,n;if(e&&typeof(r=t.toString)=="function"&&!gr(n=r.call(t))||typeof(r=t.valueOf)=="function"&&!gr(n=r.call(t))||!e&&typeof(r=t.toString)=="function"&&!gr(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")},cu=Je,Ll=no,jl=la,Rl=Object.defineProperty;rt.f=nt?Object.defineProperty:function(e,r,n){if(cu(e),r=jl(r,!0),cu(n),Ll)try{return Rl(e,r,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[r]=n.value),e};var ar=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},Fl=rt,Nl=ar,pt=nt?function(t,e,r){return Fl.f(t,e,Nl(1,r))}:function(t,e,r){return t[e]=r,t},ao={exports:{}},zl={}.hasOwnProperty,Ot=function(t,e){return zl.call(t,e)},Bl=jr("native-function-to-string",Function.toString),Wl=tt,mr=pt,fu=Ot,on=nr("src"),da=Bl,uo="toString",Hl=(""+da).split(uo);zt.inspectSource=function(t){return da.call(t)};(ao.exports=function(t,e,r,n){var a=typeof r=="function";a&&(fu(r,"name")||mr(r,"name",e)),t[e]!==r&&(a&&(fu(r,on)||mr(r,on,t[e]?""+t[e]:Hl.join(String(e)))),t===Wl?t[e]=r:n?t[e]?t[e]=r:mr(t,e,r):(delete t[e],mr(t,e,r)))})(Function.prototype,uo,function(){return typeof this=="function"&&this[on]||da.call(this)});var ft=ao.exports,Fr=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t},Gl=Fr,Nr=function(t,e,r){if(Gl(t),e===void 0)return t;switch(r){case 1:return function(n){return t.call(e,n)};case 2:return function(n,a){return t.call(e,n,a)};case 3:return function(n,a,u){return t.call(e,n,a,u)}}return function(){return t.apply(e,arguments)}},It=tt,Cr=zt,Zl=pt,Vl=ft,hu=Nr,sn="prototype",ze=function(t,e,r){var n=t&ze.F,a=t&ze.G,u=t&ze.S,i=t&ze.P,o=t&ze.B,l=a?It:u?It[e]||(It[e]={}):(It[e]||{})[sn],d=a?Cr:Cr[e]||(Cr[e]={}),h=d[sn]||(d[sn]={}),f,p,b,w;a&&(r=e);for(f in r)p=!n&&l&&l[f]!==void 0,b=(p?l:r)[f],w=o&&p?hu(b,It):i&&typeof b=="function"?hu(Function.call,b):b,l&&Vl(l,f,b,t&ze.U),d[f]!=b&&Zl(d,f,w),i&&h[f]!=b&&(h[f]=b)};It.core=Cr;ze.F=1;ze.G=2;ze.S=4;ze.P=8;ze.B=16;ze.W=32;ze.U=64;ze.R=128;var Ve=ze,vu=sa;Ve({target:"RegExp",proto:!0,forced:vu!==/./.exec},{exec:vu});var Xl=ft,ql=pt,Bn=it,Yl=Ir,io=De,Jl=sa,Ql=io("species"),Kl=!Bn(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"}),ed=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length===2&&r[0]==="a"&&r[1]==="b"}(),ca=function(t,e,r){var n=io(t),a=!Bn(function(){var h={};return h[n]=function(){return 7},""[t](h)!=7}),u=a?!Bn(function(){var h=!1,f=/a/;return f.exec=function(){return h=!0,null},t==="split"&&(f.constructor={},f.constructor[Ql]=function(){return f}),f[n](""),!h}):void 0;if(!a||!u||t==="replace"&&!Kl||t==="split"&&!ed){var i=/./[n],o=r(Yl,n,""[t],function(f,p,b,w,_){return p.exec===Jl?a&&!_?{done:!0,value:i.call(p,b,w)}:{done:!0,value:f.call(b,p,w)}:{done:!1}}),l=o[0],d=o[1];Xl(String.prototype,t,l),ql(RegExp.prototype,n,e==2?function(h,f){return d.call(h,this,f)}:function(h){return d.call(h,this)})}},td=Je,rd=vt,nd=Et,ad=Mr,ud=ua,id=oa,od=Math.max,sd=Math.min,ld=Math.floor,dd=/\$([$&`']|\d\d?|<[^>]*>)/g,cd=/\$([$&`']|\d\d?)/g,fd=function(t){return t===void 0?t:String(t)};ca("replace",2,function(t,e,r,n){return[function(i,o){var l=t(this),d=i==null?void 0:i[e];return d!==void 0?d.call(i,l,o):r.call(String(l),i,o)},function(u,i){var o=n(r,u,this,i);if(o.done)return o.value;var l=td(u),d=String(this),h=typeof i=="function";h||(i=String(i));var f=l.global;if(f){var p=l.unicode;l.lastIndex=0}for(var b=[];;){var w=id(l,d);if(w===null||(b.push(w),!f))break;var _=String(w[0]);_===""&&(l.lastIndex=ud(d,nd(l.lastIndex),p))}for(var y="",k=0,U=0;U<b.length;U++){w=b[U];for(var j=String(w[0]),F=od(sd(ad(w.index),d.length),0),z=[],q=1;q<w.length;q++)z.push(fd(w[q]));var $=w.groups;if(h){var J=[j].concat(z,F,d);$!==void 0&&J.push($);var ae=String(i.apply(void 0,J))}else ae=a(j,d,F,z,$,i);F>=k&&(y+=d.slice(k,F)+ae,k=F+j.length)}return y+d.slice(k)}];function a(u,i,o,l,d,h){var f=o+u.length,p=l.length,b=cd;return d!==void 0&&(d=rd(d),b=dd),r.call(h,b,function(w,_){var y;switch(_.charAt(0)){case"$":return"$";case"&":return u;case"`":return i.slice(0,o);case"'":return i.slice(f);case"<":y=d[_.slice(1,-1)];break;default:var k=+_;if(k===0)return w;if(k>p){var U=ld(k/10);return U===0?w:U<=p?l[U-1]===void 0?_.charAt(1):l[U-1]+_.charAt(1):w}y=l[k-1]}return y===void 0?"":y})}});var hd=Lr,fa=Object("z").propertyIsEnumerable(0)?Object:function(t){return hd(t)=="String"?t.split(""):Object(t)},vd=fa,pd=Ir,Tt=function(t){return vd(pd(t))},gd=Mr,md=Math.max,bd=Math.min,yd=function(t,e){return t=gd(t),t<0?md(t+e,0):bd(t,e)},wd=Tt,_d=Et,kd=yd,oo=function(t){return function(e,r,n){var a=wd(e),u=_d(a.length),i=kd(n,u),o;if(t&&r!=r){for(;u>i;)if(o=a[i++],o!=o)return!0}else for(;u>i;i++)if((t||i in a)&&a[i]===r)return t||i||0;return!t&&-1}},xd=it,ur=function(t,e){return!!t&&xd(function(){e?t.call(null,function(){},1):t.call(null)})},ln=Ve,Cd=oo(!1),Wn=[].indexOf,pu=!!Wn&&1/[1].indexOf(1,-0)<0;ln(ln.P+ln.F*(pu||!ur(Wn)),"Array",{indexOf:function(e){return pu?Wn.apply(this,arguments)||0:Cd(this,e,arguments[1])}});var so=/[a-z]{1,6}(?:[._][a-z]{1,2})?/i,ha=/\!'#%&'\(\)*\+,\\\-\.\/:;<=>\?@\[\]\^_{|}~\$/,zr={},Br={};Br.f={}.propertyIsEnumerable;var Sd=Br,Ed=ar,Od=Tt,Td=la,$d=Ot,Pd=no,gu=Object.getOwnPropertyDescriptor;zr.f=nt?gu:function(e,r){if(e=Od(e),r=Td(r,!0),Pd)try{return gu(e,r)}catch{}if($d(e,r))return Ed(!Sd.f.call(e,r),e[r])};var Ud=ct,Ad=Je,mu=function(t,e){if(Ad(t),!Ud(e)&&e!==null)throw TypeError(e+": can't set as prototype!")},Dd={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{r=Nr(Function.call,zr.f(Object.prototype,"__proto__").set,2),r(t,[]),e=!(t instanceof Array)}catch{e=!0}return function(a,u){return mu(a,u),e?a.__proto__=u:r(a,u),a}}({},!1):void 0),check:mu},Id=ct,bu=Dd.set,Md=function(t,e,r){var n=e.constructor,a;return n!==r&&typeof n=="function"&&(a=n.prototype)!==r.prototype&&Id(a)&&bu&&bu(t,a),t},ir={},yu=jr("keys"),Ld=nr,va=function(t){return yu[t]||(yu[t]=Ld(t))},wu=Ot,jd=Tt,Rd=oo(!1),Fd=va("IE_PROTO"),lo=function(t,e){var r=jd(t),n=0,a=[],u;for(u in r)u!=Fd&&wu(r,u)&&a.push(u);for(;e.length>n;)wu(r,u=e[n++])&&(~Rd(a,u)||a.push(u));return a},pa="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),Nd=lo,zd=pa.concat("length","prototype");ir.f=Object.getOwnPropertyNames||function(e){return Nd(e,zd)};var Bd=ct,Wd=Lr,Hd=De("match"),co=function(t){var e;return Bd(t)&&((e=t[Hd])!==void 0?!!e:Wd(t)=="RegExp")},dn,_u;function Gd(){if(_u)return dn;_u=1;var t=tt,e=rt,r=nt,n=De("species");return dn=function(a){var u=t[a];r&&u&&!u[n]&&e.f(u,n,{configurable:!0,get:function(){return this}})},dn}var fo=tt,Zd=Md,Vd=rt.f,Xd=ir.f,qd=co,Yd=Rr,Re=fo.RegExp,Zt=Re,cn=Re.prototype,Qt=/a/g,fn=/a/g,ku=new Re(Qt)!==Qt;if(nt&&(!ku||it(function(){return fn[De("match")]=!1,Re(Qt)!=Qt||Re(fn)==fn||Re(Qt,"i")!="/a/i"}))){Re=function(e,r){var n=this instanceof Re,a=qd(e),u=r===void 0;return!n&&a&&e.constructor===Re&&u?e:Zd(ku?new Zt(a&&!u?e.source:e,r):Zt((a=e instanceof Re)?e.source:e,a&&u?Yd.call(e):r),n?this:cn,Re)};for(var Jd=function(t){t in Re||Vd(Re,t,{configurable:!0,get:function(){return Zt[t]},set:function(e){Zt[t]=e}})},xu=Xd(Zt),Cu=0;xu.length>Cu;)Jd(xu[Cu++]);cn.constructor=Re,Re.prototype=cn,ft(fo,"RegExp",Re)}Gd()("RegExp");function fe(t,e,r){return r=r||"",typeof t!="string"&&(t.global&&r.indexOf("g")<0&&(r+="g"),t.ignoreCase&&r.indexOf("i")<0&&(r+="i"),t.multiline&&r.indexOf("m")<0&&(r+="m"),t=t.source),new RegExp(t.replace(/#\{(\w+)\}/g,function(n,a){var u=e[a]||"";return typeof u!="string"&&(u=u.source),u}),r)}var ga=/\x09-\x0D\x20\x85\xA0\u1680\u180E\u2000-\u200A\u2028\u2029\u202F\u205F\u3000/;const ma=fe(/[#{spacesGroup}]/,{spacesGroup:ga});var ho=fe("(^|#{spaces})(\\$)(#{cashtag})(?=$|\\s|[#{punct}])",{cashtag:so,spaces:ma,punct:ha},"gi");function Wr(t){if(!t||t.indexOf("$")===-1)return[];var e=[];return t.replace(ho,function(r,n,a,u,i,o){var l=i+n.length,d=l+u.length+1;e.push({cashtag:u,indices:[l,d]})}),e}var Qd=Je,Kd=Et,ec=ua,Su=oa;ca("match",1,function(t,e,r,n){return[function(u){var i=t(this),o=u==null?void 0:u[e];return o!==void 0?o.call(u,i):new RegExp(u)[e](String(i))},function(a){var u=n(r,a,this);if(u.done)return u.value;var i=Qd(a),o=String(this);if(!i.global)return Su(i,o);var l=i.unicode;i.lastIndex=0;for(var d=[],h=0,f;(f=Su(i,o))!==null;){var p=String(f[0]);d[h]=p,p===""&&(i.lastIndex=ec(o,Kd(i.lastIndex),l)),h++}return h===0?null:d}]});var Hr=/[#＃]/,vo=fe(/^(?:#{hashSigns}|:\/\/)/,{hashSigns:Hr}),ba=fe(RegExp("(?:(?:한국|香港|澳門|新加坡|台灣|台湾|中國|中国|გე|ລາວ|ไทย|ලංකා|ഭാരതം|ಭಾರತ|భారత్|சிங்கப்பூர்|இலங்கை|இந்தியா|ଭାରତ|ભારત|ਭਾਰਤ|ভাৰত|ভারত|বাংলা|भारोत|भारतम्|भारत|ڀارت|پاکستان|موريتانيا|مليسيا|مصر|قطر|فلسطين|عمان|عراق|سورية|سودان|تونس|بھارت|بارت|ایران|امارات|المغرب|السعودية|الجزائر|البحرين|الاردن|հայ|қаз|укр|срб|рф|мон|мкд|ею|бел|бг|ευ|ελ|zw|zm|za|yt|ye|ws|wf|vu|vn|vi|vg|ve|vc|va|uz|uy|us|um|uk|ug|ua|tz|tw|tv|tt|tr|tp|to|tn|tm|tl|tk|tj|th|tg|tf|td|tc|sz|sy|sx|sv|su|st|ss|sr|so|sn|sm|sl|sk|sj|si|sh|sg|se|sd|sc|sb|sa|rw|ru|rs|ro|re|qa|py|pw|pt|ps|pr|pn|pm|pl|pk|ph|pg|pf|pe|pa|om|nz|nu|nr|np|no|nl|ni|ng|nf|ne|nc|na|mz|my|mx|mw|mv|mu|mt|ms|mr|mq|mp|mo|mn|mm|ml|mk|mh|mg|mf|me|md|mc|ma|ly|lv|lu|lt|ls|lr|lk|li|lc|lb|la|kz|ky|kw|kr|kp|kn|km|ki|kh|kg|ke|jp|jo|jm|je|it|is|ir|iq|io|in|im|il|ie|id|hu|ht|hr|hn|hm|hk|gy|gw|gu|gt|gs|gr|gq|gp|gn|gm|gl|gi|gh|gg|gf|ge|gd|gb|ga|fr|fo|fm|fk|fj|fi|eu|et|es|er|eh|eg|ee|ec|dz|do|dm|dk|dj|de|cz|cy|cx|cw|cv|cu|cr|co|cn|cm|cl|ck|ci|ch|cg|cf|cd|cc|ca|bz|by|bw|bv|bt|bs|br|bq|bo|bn|bm|bl|bj|bi|bh|bg|bf|be|bd|bb|ba|az|ax|aw|au|at|as|ar|aq|ao|an|am|al|ai|ag|af|ae|ad|ac)(?=[^0-9a-zA-Z@+-]|$))")),po=/\u202A-\u202E\u061C\u200E\u200F\u2066\u2067\u2068\u2069/,Gr=/\uFFFE\uFEFF\uFFFF/;function ya(t,e){return t.replace(/#\{(\w+)\}/g,function(r,n){return e[n]||""})}var go=ya("#{punct}#{spacesGroup}#{invalidCharsGroup}#{directionalMarkersGroup}",{punct:ha,spacesGroup:ga,invalidCharsGroup:Gr,directionalMarkersGroup:po}),wa=fe(/[^#{invalidDomainChars}]/,{invalidDomainChars:go}),mo=fe(/(?:(?:#{validDomainChars}(?:-|#{validDomainChars})*)?#{validDomainChars}\.)/,{validDomainChars:wa}),_a=fe(RegExp("(?:(?:삼성|닷컴|닷넷|香格里拉|餐厅|食品|飞利浦|電訊盈科|集团|通販|购物|谷歌|诺基亚|联通|网络|网站|网店|网址|组织机构|移动|珠宝|点看|游戏|淡马锡|机构|書籍|时尚|新闻|政府|政务|招聘|手表|手机|我爱你|慈善|微博|广东|工行|家電|娱乐|天主教|大拿|大众汽车|在线|嘉里大酒店|嘉里|商标|商店|商城|公益|公司|八卦|健康|信息|佛山|企业|中文网|中信|世界|ポイント|ファッション|セール|ストア|コム|グーグル|クラウド|みんな|คอม|संगठन|नेट|कॉम|همراه|موقع|موبايلي|كوم|كاثوليك|عرب|شبكة|بيتك|بازار|العليان|ارامكو|اتصالات|ابوظبي|קום|сайт|рус|орг|онлайн|москва|ком|католик|дети|zuerich|zone|zippo|zip|zero|zara|zappos|yun|youtube|you|yokohama|yoga|yodobashi|yandex|yamaxun|yahoo|yachts|xyz|xxx|xperia|xin|xihuan|xfinity|xerox|xbox|wtf|wtc|wow|world|works|work|woodside|wolterskluwer|wme|winners|wine|windows|win|williamhill|wiki|wien|whoswho|weir|weibo|wedding|wed|website|weber|webcam|weatherchannel|weather|watches|watch|warman|wanggou|wang|walter|walmart|wales|vuelos|voyage|voto|voting|vote|volvo|volkswagen|vodka|vlaanderen|vivo|viva|vistaprint|vista|vision|visa|virgin|vip|vin|villas|viking|vig|video|viajes|vet|versicherung|vermögensberatung|vermögensberater|verisign|ventures|vegas|vanguard|vana|vacations|ups|uol|uno|university|unicom|uconnect|ubs|ubank|tvs|tushu|tunes|tui|tube|trv|trust|travelersinsurance|travelers|travelchannel|travel|training|trading|trade|toys|toyota|town|tours|total|toshiba|toray|top|tools|tokyo|today|tmall|tkmaxx|tjx|tjmaxx|tirol|tires|tips|tiffany|tienda|tickets|tiaa|theatre|theater|thd|teva|tennis|temasek|telefonica|telecity|tel|technology|tech|team|tdk|tci|taxi|tax|tattoo|tatar|tatamotors|target|taobao|talk|taipei|tab|systems|symantec|sydney|swiss|swiftcover|swatch|suzuki|surgery|surf|support|supply|supplies|sucks|style|study|studio|stream|store|storage|stockholm|stcgroup|stc|statoil|statefarm|statebank|starhub|star|staples|stada|srt|srl|spreadbetting|spot|sport|spiegel|space|soy|sony|song|solutions|solar|sohu|software|softbank|social|soccer|sncf|smile|smart|sling|skype|sky|skin|ski|site|singles|sina|silk|shriram|showtime|show|shouji|shopping|shop|shoes|shiksha|shia|shell|shaw|sharp|shangrila|sfr|sexy|sex|sew|seven|ses|services|sener|select|seek|security|secure|seat|search|scot|scor|scjohnson|science|schwarz|schule|school|scholarships|schmidt|schaeffler|scb|sca|sbs|sbi|saxo|save|sas|sarl|sapo|sap|sanofi|sandvikcoromant|sandvik|samsung|samsclub|salon|sale|sakura|safety|safe|saarland|ryukyu|rwe|run|ruhr|rugby|rsvp|room|rogers|rodeo|rocks|rocher|rmit|rip|rio|ril|rightathome|ricoh|richardli|rich|rexroth|reviews|review|restaurant|rest|republican|report|repair|rentals|rent|ren|reliance|reit|reisen|reise|rehab|redumbrella|redstone|red|recipes|realty|realtor|realestate|read|raid|radio|racing|qvc|quest|quebec|qpon|pwc|pub|prudential|pru|protection|property|properties|promo|progressive|prof|productions|prod|pro|prime|press|praxi|pramerica|post|porn|politie|poker|pohl|pnc|plus|plumbing|playstation|play|place|pizza|pioneer|pink|ping|pin|pid|pictures|pictet|pics|piaget|physio|photos|photography|photo|phone|philips|phd|pharmacy|pfizer|pet|pccw|pay|passagens|party|parts|partners|pars|paris|panerai|panasonic|pamperedchef|page|ovh|ott|otsuka|osaka|origins|orientexpress|organic|org|orange|oracle|open|ooo|onyourside|online|onl|ong|one|omega|ollo|oldnavy|olayangroup|olayan|okinawa|office|off|observer|obi|nyc|ntt|nrw|nra|nowtv|nowruz|now|norton|northwesternmutual|nokia|nissay|nissan|ninja|nikon|nike|nico|nhk|ngo|nfl|nexus|nextdirect|next|news|newholland|new|neustar|network|netflix|netbank|net|nec|nba|navy|natura|nationwide|name|nagoya|nadex|nab|mutuelle|mutual|museum|mtr|mtpc|mtn|msd|movistar|movie|mov|motorcycles|moto|moscow|mortgage|mormon|mopar|montblanc|monster|money|monash|mom|moi|moe|moda|mobily|mobile|mobi|mma|mls|mlb|mitsubishi|mit|mint|mini|mil|microsoft|miami|metlife|merckmsd|meo|menu|men|memorial|meme|melbourne|meet|media|med|mckinsey|mcdonalds|mcd|mba|mattel|maserati|marshalls|marriott|markets|marketing|market|map|mango|management|man|makeup|maison|maif|madrid|macys|luxury|luxe|lupin|lundbeck|ltda|ltd|lplfinancial|lpl|love|lotto|lotte|london|lol|loft|locus|locker|loans|loan|llp|llc|lixil|living|live|lipsy|link|linde|lincoln|limo|limited|lilly|like|lighting|lifestyle|lifeinsurance|life|lidl|liaison|lgbt|lexus|lego|legal|lefrak|leclerc|lease|lds|lawyer|law|latrobe|latino|lat|lasalle|lanxess|landrover|land|lancome|lancia|lancaster|lamer|lamborghini|ladbrokes|lacaixa|kyoto|kuokgroup|kred|krd|kpn|kpmg|kosher|komatsu|koeln|kiwi|kitchen|kindle|kinder|kim|kia|kfh|kerryproperties|kerrylogistics|kerryhotels|kddi|kaufen|juniper|juegos|jprs|jpmorgan|joy|jot|joburg|jobs|jnj|jmp|jll|jlc|jio|jewelry|jetzt|jeep|jcp|jcb|java|jaguar|iwc|iveco|itv|itau|istanbul|ist|ismaili|iselect|irish|ipiranga|investments|intuit|international|intel|int|insure|insurance|institute|ink|ing|info|infiniti|industries|inc|immobilien|immo|imdb|imamat|ikano|iinet|ifm|ieee|icu|ice|icbc|ibm|hyundai|hyatt|hughes|htc|hsbc|how|house|hotmail|hotels|hoteles|hot|hosting|host|hospital|horse|honeywell|honda|homesense|homes|homegoods|homedepot|holiday|holdings|hockey|hkt|hiv|hitachi|hisamitsu|hiphop|hgtv|hermes|here|helsinki|help|healthcare|health|hdfcbank|hdfc|hbo|haus|hangout|hamburg|hair|guru|guitars|guide|guge|gucci|guardian|group|grocery|gripe|green|gratis|graphics|grainger|gov|got|gop|google|goog|goodyear|goodhands|goo|golf|goldpoint|gold|godaddy|gmx|gmo|gmbh|gmail|globo|global|gle|glass|glade|giving|gives|gifts|gift|ggee|george|genting|gent|gea|gdn|gbiz|gay|garden|gap|games|game|gallup|gallo|gallery|gal|fyi|futbol|furniture|fund|fun|fujixerox|fujitsu|ftr|frontier|frontdoor|frogans|frl|fresenius|free|fox|foundation|forum|forsale|forex|ford|football|foodnetwork|food|foo|fly|flsmidth|flowers|florist|flir|flights|flickr|fitness|fit|fishing|fish|firmdale|firestone|fire|financial|finance|final|film|fido|fidelity|fiat|ferrero|ferrari|feedback|fedex|fast|fashion|farmers|farm|fans|fan|family|faith|fairwinds|fail|fage|extraspace|express|exposed|expert|exchange|everbank|events|eus|eurovision|etisalat|esurance|estate|esq|erni|ericsson|equipment|epson|epost|enterprises|engineering|engineer|energy|emerck|email|education|edu|edeka|eco|eat|earth|dvr|dvag|durban|dupont|duns|dunlop|duck|dubai|dtv|drive|download|dot|doosan|domains|doha|dog|dodge|doctor|docs|dnp|diy|dish|discover|discount|directory|direct|digital|diet|diamonds|dhl|dev|design|desi|dentist|dental|democrat|delta|deloitte|dell|delivery|degree|deals|dealer|deal|dds|dclk|day|datsun|dating|date|data|dance|dad|dabur|cyou|cymru|cuisinella|csc|cruises|cruise|crs|crown|cricket|creditunion|creditcard|credit|cpa|courses|coupons|coupon|country|corsica|coop|cool|cookingchannel|cooking|contractors|contact|consulting|construction|condos|comsec|computer|compare|company|community|commbank|comcast|com|cologne|college|coffee|codes|coach|clubmed|club|cloud|clothing|clinique|clinic|click|cleaning|claims|cityeats|city|citic|citi|citadel|cisco|circle|cipriani|church|chrysler|chrome|christmas|chloe|chintai|cheap|chat|chase|charity|channel|chanel|cfd|cfa|cern|ceo|center|ceb|cbs|cbre|cbn|cba|catholic|catering|cat|casino|cash|caseih|case|casa|cartier|cars|careers|career|care|cards|caravan|car|capitalone|capital|capetown|canon|cancerresearch|camp|camera|cam|calvinklein|call|cal|cafe|cab|bzh|buzz|buy|business|builders|build|bugatti|budapest|brussels|brother|broker|broadway|bridgestone|bradesco|box|boutique|bot|boston|bostik|bosch|boots|booking|book|boo|bond|bom|bofa|boehringer|boats|bnpparibas|bnl|bmw|bms|blue|bloomberg|blog|blockbuster|blanco|blackfriday|black|biz|bio|bingo|bing|bike|bid|bible|bharti|bet|bestbuy|best|berlin|bentley|beer|beauty|beats|bcn|bcg|bbva|bbt|bbc|bayern|bauhaus|basketball|baseball|bargains|barefoot|barclays|barclaycard|barcelona|bar|bank|band|bananarepublic|banamex|baidu|baby|azure|axa|aws|avianca|autos|auto|author|auspost|audio|audible|audi|auction|attorney|athleta|associates|asia|asda|arte|art|arpa|army|archi|aramco|arab|aquarelle|apple|app|apartments|aol|anz|anquan|android|analytics|amsterdam|amica|amfam|amex|americanfamily|americanexpress|alstom|alsace|ally|allstate|allfinanz|alipay|alibaba|alfaromeo|akdn|airtel|airforce|airbus|aigo|aig|agency|agakhan|africa|afl|afamilycompany|aetna|aero|aeg|adult|ads|adac|actor|active|aco|accountants|accountant|accenture|academy|abudhabi|abogado|able|abc|abbvie|abbott|abb|abarth|aarp|aaa|onion)(?=[^0-9a-zA-Z@+-]|$))")),ka=/(?:xn--[\-0-9a-z]+)/,bo=fe(/(?:(?:#{validDomainChars}(?:[_-]|#{validDomainChars})*)?#{validDomainChars}\.)/,{validDomainChars:wa}),yo=fe(/(?:#{validSubdomain}*#{validDomainName}(?:#{validGTLD}|#{validCCTLD}|#{validPunycode}))/,{validDomainName:mo,validSubdomain:bo,validGTLD:_a,validCCTLD:ba,validPunycode:ka}),wo=/[0-9]+/,xa=/\u0400-\u04FF/,or=/\xC0-\xD6\xD8-\xF6\xF8-\xFF\u0100-\u024F\u0253\u0254\u0256\u0257\u0259\u025B\u0263\u0268\u026F\u0272\u0289\u028B\u02BB\u0300-\u036F\u1E00-\u1EFF/,Ca=fe(/[a-z#{cyrillicLettersAndMarks}0-9!\*';:=\+,\.\$\/%#\[\]\-\u2013_~@\|&#{latinAccentChars}]/i,{cyrillicLettersAndMarks:xa,latinAccentChars:or}),Sa=fe("\\((?:#{validGeneralUrlPathChars}+|(?:#{validGeneralUrlPathChars}*\\(#{validGeneralUrlPathChars}+\\)#{validGeneralUrlPathChars}*))\\)",{validGeneralUrlPathChars:Ca},"i"),_o=fe(/[\+\-a-z#{cyrillicLettersAndMarks}0-9=_#\/#{latinAccentChars}]|(?:#{validUrlBalancedParens})/i,{cyrillicLettersAndMarks:xa,latinAccentChars:or,validUrlBalancedParens:Sa}),ko=fe("(?:(?:#{validGeneralUrlPathChars}*(?:#{validUrlBalancedParens}#{validGeneralUrlPathChars}*)*#{validUrlPathEndingChars})|(?:@#{validGeneralUrlPathChars}+/))",{validGeneralUrlPathChars:Ca,validUrlBalancedParens:Sa,validUrlPathEndingChars:_o},"i"),xo=fe(/(?:[^A-Za-z0-9@＠$#＃#{invalidCharsGroup}]|[#{directionalMarkersGroup}]|^)/,{invalidCharsGroup:Gr,directionalMarkersGroup:po}),Ea=/[a-z0-9!?\*'@\(\);:&=\+\$\/%#\[\]\-_\.,~|]/i,Oa=/[a-z0-9\-_&=#\/]/i,Hn=fe("((#{validUrlPrecedingChars})((https?:\\/\\/)?(#{validDomain})(?::(#{validPortNumber}))?(\\/#{validUrlPath}*)?(\\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?))",{validUrlPrecedingChars:xo,validDomain:yo,validPortNumber:wo,validUrlPath:ko,validUrlQueryChars:Ea,validUrlQueryEndingChars:Oa},"gi"),Co=/[-_.\/]$/,Eu=Je,tc=Fr,rc=De("species"),nc=function(t,e){var r=Eu(t).constructor,n;return r===void 0||(n=Eu(r)[rc])==null?e:tc(n)},ac=co,uc=Je,ic=nc,oc=ua,sc=Et,Ou=oa,lc=sa,dc=it,cc=Math.min,fc=[].push,gt="split",Ke="length",hn="lastIndex",Gn=4294967295,Vt=!dc(function(){RegExp(Gn,"y")});ca("split",2,function(t,e,r,n){var a;return"abbc"[gt](/(b)*/)[1]=="c"||"test"[gt](/(?:)/,-1)[Ke]!=4||"ab"[gt](/(?:ab)*/)[Ke]!=2||"."[gt](/(.?)(.?)/)[Ke]!=4||"."[gt](/()()/)[Ke]>1||""[gt](/.?/)[Ke]?a=function(u,i){var o=String(this);if(u===void 0&&i===0)return[];if(!ac(u))return r.call(o,u,i);for(var l=[],d=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(u.sticky?"y":""),h=0,f=i===void 0?Gn:i>>>0,p=new RegExp(u.source,d+"g"),b,w,_;(b=lc.call(p,o))&&(w=p[hn],!(w>h&&(l.push(o.slice(h,b.index)),b[Ke]>1&&b.index<o[Ke]&&fc.apply(l,b.slice(1)),_=b[0][Ke],h=w,l[Ke]>=f)));)p[hn]===b.index&&p[hn]++;return h===o[Ke]?(_||!p.test(""))&&l.push(""):l.push(o.slice(h)),l[Ke]>f?l.slice(0,f):l}:"0"[gt](void 0,0)[Ke]?a=function(u,i){return u===void 0&&i===0?[]:r.call(this,u,i)}:a=r,[function(i,o){var l=t(this),d=i==null?void 0:i[e];return d!==void 0?d.call(i,l,o):a.call(String(l),i,o)},function(u,i){var o=n(a,u,this,i,a!==r);if(o.done)return o.value;var l=uc(u),d=String(this),h=ic(l,RegExp),f=l.unicode,p=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(Vt?"y":"g"),b=new h(Vt?l:"^(?:"+l.source+")",p),w=i===void 0?Gn:i>>>0;if(w===0)return[];if(d.length===0)return Ou(b,d)===null?[d]:[];for(var _=0,y=0,k=[];y<d.length;){b.lastIndex=Vt?y:0;var U=Ou(b,Vt?d:d.slice(y)),j;if(U===null||(j=cc(sc(b.lastIndex+(Vt?0:y)),d.length))===_)y=oc(d,y,f);else{if(k.push(d.slice(_,y)),k.length===w)return k;for(var F=1;F<=U.length-1;F++)if(k.push(U[F]),k.length===w)return k;y=_=j}}return k.push(d.slice(_)),k}]});var $r={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */$r.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,a=t&&!t.nodeType&&t,u=typeof Jt=="object"&&Jt;(u.global===u||u.window===u||u.self===u)&&(r=u);var i,o=2147483647,l=36,d=1,h=26,f=38,p=700,b=72,w=128,_="-",y=/^xn--/,k=/[^\x20-\x7E]/,U=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=l-d,z=Math.floor,q=String.fromCharCode,$;function J(O){throw new RangeError(j[O])}function ae(O,P){for(var R=O.length,Z=[];R--;)Z[R]=P(O[R]);return Z}function Q(O,P){var R=O.split("@"),Z="";R.length>1&&(Z=R[0]+"@",O=R[1]),O=O.replace(U,".");var Y=O.split("."),le=ae(Y,P).join(".");return Z+le}function K(O){for(var P=[],R=0,Z=O.length,Y,le;R<Z;)Y=O.charCodeAt(R++),Y>=55296&&Y<=56319&&R<Z?(le=O.charCodeAt(R++),(le&64512)==56320?P.push(((Y&1023)<<10)+(le&1023)+65536):(P.push(Y),R--)):P.push(Y);return P}function de(O){return ae(O,function(P){var R="";return P>65535&&(P-=65536,R+=q(P>>>10&1023|55296),P=56320|P&1023),R+=q(P),R}).join("")}function se(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:l}function D(O,P){return O+22+75*(O<26)-((P!=0)<<5)}function A(O,P,R){var Z=0;for(O=R?z(O/p):O>>1,O+=z(O/P);O>F*h>>1;Z+=l)O=z(O/F);return z(Z+(F+1)*O/(O+f))}function M(O){var P=[],R=O.length,Z,Y=0,le=w,me=b,ve,pe,he,be,we,ge,xe,Ie,Se;for(ve=O.lastIndexOf(_),ve<0&&(ve=0),pe=0;pe<ve;++pe)O.charCodeAt(pe)>=128&&J("not-basic"),P.push(O.charCodeAt(pe));for(he=ve>0?ve+1:0;he<R;){for(be=Y,we=1,ge=l;he>=R&&J("invalid-input"),xe=se(O.charCodeAt(he++)),(xe>=l||xe>z((o-Y)/we))&&J("overflow"),Y+=xe*we,Ie=ge<=me?d:ge>=me+h?h:ge-me,!(xe<Ie);ge+=l)Se=l-Ie,we>z(o/Se)&&J("overflow"),we*=Se;Z=P.length+1,me=A(Y-be,Z,be==0),z(Y/Z)>o-le&&J("overflow"),le+=z(Y/Z),Y%=Z,P.splice(Y++,0,le)}return de(P)}function G(O){var P,R,Z,Y,le,me,ve,pe,he,be,we,ge=[],xe,Ie,Se,Ne;for(O=K(O),xe=O.length,P=w,R=0,le=b,me=0;me<xe;++me)we=O[me],we<128&&ge.push(q(we));for(Z=Y=ge.length,Y&&ge.push(_);Z<xe;){for(ve=o,me=0;me<xe;++me)we=O[me],we>=P&&we<ve&&(ve=we);for(Ie=Z+1,ve-P>z((o-R)/Ie)&&J("overflow"),R+=(ve-P)*Ie,P=ve,me=0;me<xe;++me)if(we=O[me],we<P&&++R>o&&J("overflow"),we==P){for(pe=R,he=l;be=he<=le?d:he>=le+h?h:he-le,!(pe<be);he+=l)Ne=pe-be,Se=l-be,ge.push(q(D(be+Ne%Se,0))),pe=z(Ne/Se);ge.push(q(D(pe,0))),le=A(R,Ie,Z==Y),R=0,++Z}++R,++P}return ge.join("")}function L(O){return Q(O,function(P){return y.test(P)?M(P.slice(4).toLowerCase()):P})}function re(O){return Q(O,function(P){return k.test(P)?"xn--"+G(P):P})}if(i={version:"1.4.1",ucs2:{decode:K,encode:de},decode:M,encode:G,toASCII:re,toUnicode:L},n&&a)if(t.exports==n)a.exports=i;else for($ in i)i.hasOwnProperty($)&&(n[$]=i[$]);else r.punycode=i})(Jt)})($r,$r.exports);var hc=$r.exports;const vc=aa(hc);var Ta=fe(/(?:(?:[\-a-z0-9#{latinAccentChars}]+)\.)+(?:#{validGTLD}|#{validCCTLD}|#{validPunycode})/gi,{latinAccentChars:or,validGTLD:_a,validCCTLD:ba,validPunycode:ka}),pc=63,gc="xn--",mc={toAscii:function(e){if(!(e.substring(0,4)===gc&&!e.match(Ta))){for(var r=e.split("."),n=0;n<r.length;n++){var a=r[n],u=vc.toASCII(a);if(u.length<1||u.length>pc)return}return r.join(".")}}},So=fe(/^https?:\/\/t\.co\/([a-z0-9]+)(?:\?#{validUrlQueryChars}*#{validUrlQueryEndingChars})?/,{validUrlQueryChars:Ea,validUrlQueryEndingChars:Oa},"i"),bc="https://",yc={extractUrlsWithoutProtocol:!0},wc=4096,_c=40,Bt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yc;if(!e||(r.extractUrlsWithoutProtocol?!e.match(/\./):!e.match(/:/)))return[];for(var n=[],a=function(){var o=RegExp.$2,l=RegExp.$3,d=RegExp.$4,h=RegExp.$5,f=RegExp.$7,p=Hn.lastIndex,b=p-l.length;if(!kc(l,d||bc,h))return"continue";if(d){if(l.match(So)){var y=RegExp.$1;if(y&&y.length>_c)return"continue";l=RegExp.lastMatch,p=b+l.length}n.push({url:l,indices:[b,p]})}else{if(!r.extractUrlsWithoutProtocol||o.match(Co))return"continue";var w=null,_=0;if(h.replace(Ta,function(k){var U=h.indexOf(k,_);_=U+k.length,w={url:k,indices:[b+U,b+_]},n.push(w)}),w==null)return"continue";f&&(w.url=l.replace(h,w.url),w.indices[1]=p)}};Hn.exec(e);)var u=a();return n},kc=function(e,r,n){var a=e.length,u=mc.toAscii(n);return!u||!u.length?!1:(a=a+u.length-n.length,r.length+a<=wc)},vn=Ve,xc=Fr,Tu=vt,$u=it,pn=[].sort,Pu=[1,2,3];vn(vn.P+vn.F*($u(function(){Pu.sort(void 0)})||!$u(function(){Pu.sort(null)})||!ur(pn)),"Array",{sort:function(e){return e===void 0?pn.call(Tu(this)):pn.call(Tu(this),xc(e))}});function $a(t){t.sort(function(n,a){return n.indices[0]-a.indices[0]});for(var e=t[0],r=1;r<t.length;r++)e.indices[1]>t[r].indices[0]?(t.splice(r,1),r--):e=t[r]}var Pa=/\ud800[\udc00-\udc0b\udc0d-\udc26\udc28-\udc3a\udc3c\udc3d\udc3f-\udc4d\udc50-\udc5d\udc80-\udcfa\uddfd\ude80-\ude9c\udea0-\uded0\udee0\udf00-\udf1f\udf30-\udf40\udf42-\udf49\udf50-\udf7a\udf80-\udf9d\udfa0-\udfc3\udfc8-\udfcf]|\ud801[\udc00-\udc9d\udd00-\udd27\udd30-\udd63\ude00-\udf36\udf40-\udf55\udf60-\udf67]|\ud802[\udc00-\udc05\udc08\udc0a-\udc35\udc37\udc38\udc3c\udc3f-\udc55\udc60-\udc76\udc80-\udc9e\udd00-\udd15\udd20-\udd39\udd80-\uddb7\uddbe\uddbf\ude00-\ude03\ude05\ude06\ude0c-\ude13\ude15-\ude17\ude19-\ude33\ude38-\ude3a\ude3f\ude60-\ude7c\ude80-\ude9c\udec0-\udec7\udec9-\udee6\udf00-\udf35\udf40-\udf55\udf60-\udf72\udf80-\udf91]|\ud803[\udc00-\udc48]|\ud804[\udc00-\udc46\udc7f-\udcba\udcd0-\udce8\udd00-\udd34\udd50-\udd73\udd76\udd80-\uddc4\uddda\ude00-\ude11\ude13-\ude37\udeb0-\udeea\udf01-\udf03\udf05-\udf0c\udf0f\udf10\udf13-\udf28\udf2a-\udf30\udf32\udf33\udf35-\udf39\udf3c-\udf44\udf47\udf48\udf4b-\udf4d\udf57\udf5d-\udf63\udf66-\udf6c\udf70-\udf74]|\ud805[\udc80-\udcc5\udcc7\udd80-\uddb5\uddb8-\uddc0\ude00-\ude40\ude44\ude80-\udeb7]|\ud806[\udca0-\udcdf\udcff\udec0-\udef8]|\ud808[\udc00-\udf98]|\ud80c[\udc00-\udfff]|\ud80d[\udc00-\udc2e]|\ud81a[\udc00-\ude38\ude40-\ude5e\uded0-\udeed\udef0-\udef4\udf00-\udf36\udf40-\udf43\udf63-\udf77\udf7d-\udf8f]|\ud81b[\udf00-\udf44\udf50-\udf7e\udf8f-\udf9f]|\ud82c[\udc00\udc01]|\ud82f[\udc00-\udc6a\udc70-\udc7c\udc80-\udc88\udc90-\udc99\udc9d\udc9e]|\ud834[\udd65-\udd69\udd6d-\udd72\udd7b-\udd82\udd85-\udd8b\uddaa-\uddad\ude42-\ude44]|\ud835[\udc00-\udc54\udc56-\udc9c\udc9e\udc9f\udca2\udca5\udca6\udca9-\udcac\udcae-\udcb9\udcbb\udcbd-\udcc3\udcc5-\udd05\udd07-\udd0a\udd0d-\udd14\udd16-\udd1c\udd1e-\udd39\udd3b-\udd3e\udd40-\udd44\udd46\udd4a-\udd50\udd52-\udea5\udea8-\udec0\udec2-\udeda\udedc-\udefa\udefc-\udf14\udf16-\udf34\udf36-\udf4e\udf50-\udf6e\udf70-\udf88\udf8a-\udfa8\udfaa-\udfc2\udfc4-\udfcb]|\ud83a[\udc00-\udcc4\udcd0-\udcd6]|\ud83b[\ude00-\ude03\ude05-\ude1f\ude21\ude22\ude24\ude27\ude29-\ude32\ude34-\ude37\ude39\ude3b\ude42\ude47\ude49\ude4b\ude4d-\ude4f\ude51\ude52\ude54\ude57\ude59\ude5b\ude5d\ude5f\ude61\ude62\ude64\ude67-\ude6a\ude6c-\ude72\ude74-\ude77\ude79-\ude7c\ude7e\ude80-\ude89\ude8b-\ude9b\udea1-\udea3\udea5-\udea9\udeab-\udebb]|\ud840[\udc00-\udfff]|\ud841[\udc00-\udfff]|\ud842[\udc00-\udfff]|\ud843[\udc00-\udfff]|\ud844[\udc00-\udfff]|\ud845[\udc00-\udfff]|\ud846[\udc00-\udfff]|\ud847[\udc00-\udfff]|\ud848[\udc00-\udfff]|\ud849[\udc00-\udfff]|\ud84a[\udc00-\udfff]|\ud84b[\udc00-\udfff]|\ud84c[\udc00-\udfff]|\ud84d[\udc00-\udfff]|\ud84e[\udc00-\udfff]|\ud84f[\udc00-\udfff]|\ud850[\udc00-\udfff]|\ud851[\udc00-\udfff]|\ud852[\udc00-\udfff]|\ud853[\udc00-\udfff]|\ud854[\udc00-\udfff]|\ud855[\udc00-\udfff]|\ud856[\udc00-\udfff]|\ud857[\udc00-\udfff]|\ud858[\udc00-\udfff]|\ud859[\udc00-\udfff]|\ud85a[\udc00-\udfff]|\ud85b[\udc00-\udfff]|\ud85c[\udc00-\udfff]|\ud85d[\udc00-\udfff]|\ud85e[\udc00-\udfff]|\ud85f[\udc00-\udfff]|\ud860[\udc00-\udfff]|\ud861[\udc00-\udfff]|\ud862[\udc00-\udfff]|\ud863[\udc00-\udfff]|\ud864[\udc00-\udfff]|\ud865[\udc00-\udfff]|\ud866[\udc00-\udfff]|\ud867[\udc00-\udfff]|\ud868[\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|\ud86a[\udc00-\udfff]|\ud86b[\udc00-\udfff]|\ud86c[\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]|\ud87e[\udc00-\ude1d]|\udb40[\udd00-\uddef]/,Ua=/A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0300-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0483-\u052f\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f2\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06df-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0710-\u074a\u074d-\u07b1\u07ca-\u07f5\u07fa\u0800-\u082d\u0840-\u085b\u08a0-\u08b2\u08e4-\u0963\u0971-\u0983\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bc-\u09c4\u09c7\u09c8\u09cb-\u09ce\u09d7\u09dc\u09dd\u09df-\u09e3\u09f0\u09f1\u0a01-\u0a03\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a59-\u0a5c\u0a5e\u0a70-\u0a75\u0a81-\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abc-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ad0\u0ae0-\u0ae3\u0b01-\u0b03\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3c-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5c\u0b5d\u0b5f-\u0b63\u0b71\u0b82\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd0\u0bd7\u0c00-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c58\u0c59\u0c60-\u0c63\u0c81-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbc-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0cde\u0ce0-\u0ce3\u0cf1\u0cf2\u0d01-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d-\u0d44\u0d46-\u0d48\u0d4a-\u0d4e\u0d57\u0d60-\u0d63\u0d7a-\u0d7f\u0d82\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e01-\u0e3a\u0e40-\u0e4e\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb9\u0ebb-\u0ebd\u0ec0-\u0ec4\u0ec6\u0ec8-\u0ecd\u0edc-\u0edf\u0f00\u0f18\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f47\u0f49-\u0f6c\u0f71-\u0f84\u0f86-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u103f\u1050-\u108f\u109a-\u109d\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u135d-\u135f\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176c\u176e-\u1770\u1772\u1773\u1780-\u17d3\u17d7\u17dc\u17dd\u180b-\u180d\u1820-\u1877\u1880-\u18aa\u18b0-\u18f5\u1900-\u191e\u1920-\u192b\u1930-\u193b\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a1b\u1a20-\u1a5e\u1a60-\u1a7c\u1a7f\u1aa7\u1ab0-\u1abe\u1b00-\u1b4b\u1b6b-\u1b73\u1b80-\u1baf\u1bba-\u1bf3\u1c00-\u1c37\u1c4d-\u1c4f\u1c5a-\u1c7d\u1cd0-\u1cd2\u1cd4-\u1cf6\u1cf8\u1cf9\u1d00-\u1df5\u1dfc-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u20d0-\u20f0\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d7f-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2de0-\u2dff\u2e2f\u3005\u3006\u302a-\u302f\u3031-\u3035\u303b\u303c\u3041-\u3096\u3099\u309a\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua672\ua674-\ua67d\ua67f-\ua69d\ua69f-\ua6e5\ua6f0\ua6f1\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua7ad\ua7b0\ua7b1\ua7f7-\ua827\ua840-\ua873\ua880-\ua8c4\ua8e0-\ua8f7\ua8fb\ua90a-\ua92d\ua930-\ua953\ua960-\ua97c\ua980-\ua9c0\ua9cf\ua9e0-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa36\uaa40-\uaa4d\uaa60-\uaa76\uaa7a-\uaac2\uaadb-\uaadd\uaae0-\uaaef\uaaf2-\uaaf6\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab5f\uab64\uab65\uabc0-\uabea\uabec\uabed\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf870-\uf87f\uf882\uf884-\uf89f\uf8b8\uf8c1-\uf8d6\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe00-\ufe0f\ufe20-\ufe2d\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc/,Zr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/gm,Eo=fe(/(?:[#{bmpLetterAndMarks}]|(?=#{nonBmpCodePairs})(?:#{astralLetterAndMarks}))/,{bmpLetterAndMarks:Ua,nonBmpCodePairs:Zr,astralLetterAndMarks:Pa}),Oo=/\ud801[\udca0-\udca9]|\ud804[\udc66-\udc6f\udcf0-\udcf9\udd36-\udd3f\uddd0-\uddd9\udef0-\udef9]|\ud805[\udcd0-\udcd9\ude50-\ude59\udec0-\udec9]|\ud806[\udce0-\udce9]|\ud81a[\ude60-\ude69\udf50-\udf59]|\ud835[\udfce-\udfff]/,To=/0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19/,$o=/_\u200c\u200d\ua67e\u05be\u05f3\u05f4\uff5e\u301c\u309b\u309c\u30a0\u30fb\u3003\u0f0b\u0f0c\xb7/,Aa=fe(/(?:[#{bmpLetterAndMarks}#{bmpNumerals}#{hashtagSpecialChars}]|(?=#{nonBmpCodePairs})(?:#{astralLetterAndMarks}|#{astralNumerals}))/,{bmpLetterAndMarks:Ua,bmpNumerals:To,hashtagSpecialChars:$o,nonBmpCodePairs:Zr,astralLetterAndMarks:Pa,astralNumerals:Oo}),Po=/(?:[^\uD800-\uDFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF])/,Uo=fe(/(?:^|\uFE0E|\uFE0F|$|(?!#{hashtagAlphaNumeric}|&)#{codePoint})/,{codePoint:Po,hashtagAlphaNumeric:Aa}),Ao=fe(/(#{hashtagBoundary})(#{hashSigns})(?!\uFE0F|\u20E3)(#{hashtagAlphaNumeric}*#{hashtagAlpha}#{hashtagAlphaNumeric}*)/gi,{hashtagBoundary:Uo,hashSigns:Hr,hashtagAlphaNumeric:Aa,hashtagAlpha:Eo}),Vr=function(e,r){if(r||(r={checkUrlOverlap:!0}),!e||!e.match(Hr))return[];var n=[];if(e.replace(Ao,function(o,l,d,h,f,p){var b=p.slice(f+o.length);if(!b.match(vo)){var w=f+l.length,_=w+h.length+1;n.push({hashtag:h,indices:[w,_]})}}),r.checkUrlOverlap){var a=Bt(e);if(a.length>0){var u=n.concat(a);$a(u),n=[];for(var i=0;i<u.length;i++)u[i].hashtag&&n.push(u[i])}}return n},Wt=/[@＠]/,Da=fe(/^(?:#{atSigns}|[#{latinAccentChars}]|:\/\/)/,{atSigns:Wt,latinAccentChars:or}),Do=/(?:^|[^a-zA-Z0-9_!#$%&*@＠]|(?:^|[^a-zA-Z0-9_+~.-])(?:rt|RT|rT|Rt):?)/,Ia=fe("(#{validMentionPrecedingChars})(#{atSigns})([a-zA-Z0-9_]{1,20})(/[a-zA-Z][a-zA-Z0-9_-]{0,24})?",{validMentionPrecedingChars:Do,atSigns:Wt},"g");function Xr(t){if(!t||!t.match(Wt))return[];var e=[];return t.replace(Ia,function(r,n,a,u,i,o,l){var d=l.slice(o+r.length);if(!d.match(Da)){i=i||"";var h=o+n.length,f=h+u.length+i.length+1;e.push({screenName:u,listSlug:i,indices:[h,f]})}}),e}function Io(t,e){var r=Bt(t,e).concat(Xr(t)).concat(Vr(t,{checkUrlOverlap:!1})).concat(Wr(t));return r.length==0?[]:($a(r),r)}function sr(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}var Cc={disabled:!0,readonly:!0,multiple:!0,checked:!0},Sc={urlClass:!0,listClass:!0,usernameClass:!0,hashtagClass:!0,cashtagClass:!0,usernameUrlBase:!0,listUrlBase:!0,hashtagUrlBase:!0,cashtagUrlBase:!0,usernameUrlBlock:!0,listUrlBlock:!0,hashtagUrlBlock:!0,linkUrlBlock:!0,usernameIncludeSymbol:!0,suppressLists:!0,suppressNoFollow:!0,targetBlank:!0,suppressDataScreenName:!0,urlEntities:!0,symbolTag:!0,textWithSymbolTag:!0,urlTarget:!0,invisibleTagAttrs:!0,linkAttributeBlock:!0,linkTextBlock:!0,htmlEscapeNonEntities:!0};function Mo(t){var e={};for(var r in t){var n=t[r];Sc[r]||(Cc[r]&&(n=n?r:null),n!=null&&(e[r]=n))}return e}var Ec={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"};function ut(t){return t&&t.replace(/[&"'><]/g,function(e){return Ec[e]})}nt&&/./g.flags!="g"&&rt.f(RegExp.prototype,"flags",{configurable:!0,get:Rr});var Oc=Je,Tc=Rr,$c=nt,Ma="toString",gn=/./[Ma],Uu=function(t){ft(RegExp.prototype,Ma,t,!0)};it(function(){return gn.call({source:"a",flags:"b"})!="/a/b"})?Uu(function(){var e=Oc(this);return"/".concat(e.source,"/","flags"in e?e.flags:!$c&&e instanceof RegExp?Tc.call(e):void 0)}):gn.name!=Ma&&Uu(function(){return gn.call(this)});var La=Date.prototype,Au="Invalid Date",Lo="toString",Pc=La[Lo],Uc=La.getTime;new Date(NaN)+""!=Au&&ft(La,Lo,function(){var e=Uc.call(this);return e===e?Pc.call(this):Au});var Ac=ia,jo={};jo[De("toStringTag")]="z";jo+""!="[object z]"&&ft(Object.prototype,"toString",function(){return"[object "+Ac(this)+"]"},!0);var Dc={disabled:!0,readonly:!0,multiple:!0,checked:!0};function Ro(t){var e="";for(var r in t){var n=t[r];Dc[r]&&(n=n?r:null),n!=null&&(e+=" ".concat(ut(r),'="').concat(ut(n.toString()),'"'))}return e}function Pr(t,e,r,n){n.suppressNoFollow||(r.rel="nofollow"),n.linkAttributeBlock&&n.linkAttributeBlock(t,r),n.linkTextBlock&&(e=n.linkTextBlock(t,e));var a={text:e,attr:Ro(r)};return ya("<a#{attr}>#{text}</a>",a)}function qr(t,e,r,n,a){var u=a.symbolTag?"<".concat(a.symbolTag,">").concat(e,"</").concat(a.symbolTag,">"):e;r=ut(r);var i=a.textWithSymbolTag?"<".concat(a.textWithSymbolTag,">").concat(r,"</").concat(a.textWithSymbolTag,">"):r;return a.usernameIncludeSymbol||!e.match(Wt)?Pr(t,u+i,n,a):u+Pr(t,i,n,a)}function Fo(t,e,r){var n=ut(t.cashtag),a=sr(r.htmlAttrs||{});return a.href=r.cashtagUrlBase+n,a.title="$".concat(n),a.class=r.cashtagClass,r.targetBlank&&(a.target="_blank"),qr(t,"$",n,a,r)}var No=/[\u0600-\u06FF]|[\u0750-\u077F]|[\u0590-\u05FF]|[\uFE70-\uFEFF]/gm;function zo(t,e,r){var n=e.substring(t.indices[0],t.indices[0]+1),a=ut(t.hashtag),u=sr(r.htmlAttrs||{});return u.href=r.hashtagUrlBase+a,u.title="#".concat(a),u.class=r.hashtagClass,a.charAt(0).match(No)&&(u.class+=" rtl"),r.targetBlank&&(u.target="_blank"),qr(t,n,a,u,r)}function Bo(t,e){var r=t.display_url,n=t.expanded_url,a=r.replace(/…/g,"");if(n.indexOf(a)!=-1){var u=n.indexOf(a),i={displayUrlSansEllipses:a,beforeDisplayUrl:n.substr(0,u),afterDisplayUrl:n.substr(u+a.length),precedingEllipsis:r.match(/^…/)?"…":"",followingEllipsis:r.match(/…$/)?"…":""};for(var o in i)i.hasOwnProperty(o)&&(i[o]=ut(i[o]));return i.invisible=e.invisibleTagAttrs,ya("<span class='tco-ellipsis'>#{precedingEllipsis}<span #{invisible}>&nbsp;</span></span><span #{invisible}>#{beforeDisplayUrl}</span><span class='js-display-url'>#{displayUrlSansEllipses}</span><span #{invisible}>#{afterDisplayUrl}</span><span class='tco-ellipsis'><span #{invisible}>&nbsp;</span>#{followingEllipsis}</span>",i)}return r}var Wo=/^https?:\/\//i;function Ho(t,e,r){var n=t.url,a=n,u=ut(a),i=r.urlEntities&&r.urlEntities[n]||t;i.display_url&&(u=Bo(i,r));var o=sr(r.htmlAttrs||{});return n.match(Wo)||(n="http://".concat(n)),o.href=n,r.targetBlank&&(o.target="_blank"),r.urlClass&&(o.class=r.urlClass),r.urlTarget&&(o.target=r.urlTarget),!r.title&&i.display_url&&(o.title=i.expanded_url),Pr(t,u,o,r)}function Go(t,e,r){var n=e.substring(t.indices[0],t.indices[0]+1),a=ut(t.screenName),u=ut(t.listSlug),i=t.listSlug&&!r.suppressLists,o=sr(r.htmlAttrs||{});return o.class=i?r.listClass:r.usernameClass,o.href=i?r.listUrlBase+a+u:r.usernameUrlBase+a,!i&&!r.suppressDataScreenName&&(o["data-screen-name"]=a),r.targetBlank&&(o.target="_blank"),qr(t,n,i?a+u:a,o,r)}var Ic="tweet-url list-slug",Mc="tweet-url username",Lc="tweet-url hashtag",jc="tweet-url cashtag";function $t(t,e,n){var n=sr(n||{});n.hashtagClass=n.hashtagClass||Lc,n.hashtagUrlBase=n.hashtagUrlBase||"https://twitter.com/search?q=%23",n.cashtagClass=n.cashtagClass||jc,n.cashtagUrlBase=n.cashtagUrlBase||"https://twitter.com/search?q=%24",n.listClass=n.listClass||Ic,n.usernameClass=n.usernameClass||Mc,n.usernameUrlBase=n.usernameUrlBase||"https://twitter.com/",n.listUrlBase=n.listUrlBase||"https://twitter.com/",n.htmlAttrs=Mo(n),n.invisibleTagAttrs=n.invisibleTagAttrs||"style='position:absolute;left:-9999px;'";var a,u,i;if(n.urlEntities){for(a={},u=0,i=n.urlEntities.length;u<i;u++)a[n.urlEntities[u].url]=n.urlEntities[u];n.urlEntities=a}var o="",l=0;e.sort(function(f,p){return f.indices[0]-p.indices[0]});for(var d=n.htmlEscapeNonEntities?ut:function(f){return f},u=0;u<e.length;u++){var h=e[u];o+=d(t.substring(l,h.indices[0])),h.url?o+=Ho(h,t,n):h.hashtag?o+=zo(h,t,n):h.screenName?o+=Go(h,t,n):h.cashtag&&(o+=Fo(h,t,n)),l=h.indices[1]}return o+=d(t.substring(l,t.length)),o}function Rc(t,e){var r=Io(t,{extractUrlsWithoutProtocol:!1});return $t(t,r,e)}function Fc(t,e){var r=Wr(t);return $t(t,r,e)}function Nc(t,e){var r=Vr(t);return $t(t,r,e)}function zc(t,e){var r=Bt(t,{extractUrlsWithoutProtocol:!1});return $t(t,r,e)}function Bc(t,e){var r=Xr(t);return $t(t,r,e)}var Zo=function(e,r,n){if(r.length!==0){var a=0,u=0;r.sort(function(h,f){return h.indices[0]-f.indices[0]});for(var i=0,o=r[0];a<e.length;){if(o.indices[0]===(n?a:u)){var l=o.indices[1]-o.indices[0];if(o.indices[0]=n?u:a,o.indices[1]=o.indices[0]+l,i++,i===r.length)break;o=r[i]}var d=e.charCodeAt(a);d>=55296&&d<=56319&&a<e.length-1&&(d=e.charCodeAt(a+1),d>=56320&&d<=57343&&a++),u++,a++}}};function Vo(t,e){Zo(t,e,!1)}function Wc(t,e,r){if(e.user_mentions)for(var n=0;n<e.user_mentions.length;n++)e.user_mentions[n].screenName=e.user_mentions[n].screen_name;if(e.hashtags)for(var n=0;n<e.hashtags.length;n++)e.hashtags[n].hashtag=e.hashtags[n].text;if(e.symbols)for(var n=0;n<e.symbols.length;n++)e.symbols[n].cashtag=e.symbols[n].text;var a=[];for(var u in e)a=a.concat(e[u]);return Vo(t,a),$t(t,a,r)}const Nt={version1:{version:1,maxWeightedTweetLength:140,scale:1,defaultWeight:1,transformedURLLength:23,ranges:[]},version2:{version:2,maxWeightedTweetLength:280,scale:100,defaultWeight:200,transformedURLLength:23,ranges:[{start:0,end:4351,weight:100},{start:8192,end:8205,weight:100},{start:8208,end:8223,weight:100},{start:8242,end:8247,weight:100}]},version3:{version:3,maxWeightedTweetLength:280,scale:100,defaultWeight:200,emojiParsingEnabled:!0,transformedURLLength:23,ranges:[{start:0,end:4351,weight:100},{start:8192,end:8205,weight:100},{start:8208,end:8223,weight:100},{start:8242,end:8247,weight:100}]},defaults:{version:3,maxWeightedTweetLength:280,scale:100,defaultWeight:200,emojiParsingEnabled:!0,transformedURLLength:23,ranges:[{start:0,end:4351,weight:100},{start:8192,end:8205,weight:100},{start:8208,end:8223,weight:100},{start:8242,end:8247,weight:100}]}};function Hc(t,e,r){if(e.length!=0){var n=0,a=0;e.sort(function(d,h){return d.indices[0]-h.indices[0]});for(var u=0,i=e[0];n<t.length;){if(i.indices[0]==(r?n:a)){var o=i.indices[1]-i.indices[0];if(i.indices[0]=r?a:n,i.indices[1]=i.indices[0]+o,u++,u==e.length)break;i=e[u]}var l=t.charCodeAt(n);l>=55296&&l<=56319&&n<t.length-1&&(l=t.charCodeAt(n+1),l>=56320&&l<=57343&&n++),a++,n++}}}function Gc(t){for(var e=[],r=Wr(t),n=0;n<r.length;n++)e.push(r[n].cashtag);return e}function Xo(t){for(var e=[],r=Vr(t),n=0;n<r.length;n++)e.push(r[n].hashtag);return e}function qo(t){for(var e=[],r,n=Xr(t),a=0;a<n.length;a++)r=n[a],r.listSlug===""&&e.push({screenName:r.screenName,indices:r.indices});return e}function Yo(t){for(var e=[],r=qo(t),n=0;n<r.length;n++){var a=r[n].screenName;e.push(a)}return e}var Jo=fe(/^(?:#{spaces})*#{atSigns}([a-zA-Z0-9_]{1,20})/,{atSigns:Wt,spaces:ma});function Zc(t){if(!t)return null;var e=t.match(Jo);return!e||RegExp.rightContext.match(Da)?null:e[1]}function Vc(t,e){for(var r=[],n=Bt(t,e),a=0;a<n.length;a++)r.push(n[a].url);return r}var Xc=Lr,ja=Array.isArray||function(e){return Xc(e)=="Array"},Du=Ve;Du(Du.S,"Array",{isArray:ja});var qc=function(e,r){var n=r.defaultWeight,a=r.ranges,u=n,i=e.charCodeAt(0);if(Array.isArray(a))for(var o=0,l=a.length;o<l;o++){var d=a[o];if(i>=d.start&&i<=d.end){u=d.weight;break}}return u};function Yc(t,e){Zo(t,e,!0)}var Jc=Fr,Qc=vt,Kc=fa,ef=Et,tf=function(t,e,r,n,a){Jc(e);var u=Qc(t),i=Kc(u),o=ef(u.length),l=a?o-1:0,d=a?-1:1;if(r<2)for(;;){if(l in i){n=i[l],l+=d;break}if(l+=d,a?l<0:o<=l)throw TypeError("Reduce of empty array with no initial value")}for(;a?l>=0:o>l;l+=d)l in i&&(n=e(n,i[l],l,u));return n},mn=Ve,rf=tf;mn(mn.P+mn.F*!ur([].reduce,!0),"Array",{reduce:function(e){return rf(this,e,arguments.length,arguments[1],!1)}});var Zn=De("unscopables"),Vn=Array.prototype;Vn[Zn]==null&&pt(Vn,Zn,{});var nf=function(t){Vn[Zn][t]=!0},af=function(t,e){return{value:e,done:!!t}},lr={},uf=lo,of=pa,dr=Object.keys||function(e){return uf(e,of)},bn,Iu;function Qo(){if(Iu)return bn;Iu=1;var t=rt,e=Je,r=dr;return bn=nt?Object.defineProperties:function(a,u){e(a);for(var i=r(u),o=i.length,l=0,d;o>l;)t.f(a,d=i[l++],u[d]);return a},bn}var yn,Mu;function sf(){if(Mu)return yn;Mu=1;var t=tt.document;return yn=t&&t.documentElement,yn}var lf=Je,df=Qo(),Lu=pa,cf=va("IE_PROTO"),wn=function(){},Xn="prototype",Sr=function(){var t=ro()("iframe"),e=Lu.length,r="<",n=">",a;for(t.style.display="none",sf().appendChild(t),t.src="javascript:",a=t.contentWindow.document,a.open(),a.write(r+"script"+n+"document.F=Object"+r+"/script"+n),a.close(),Sr=a.F;e--;)delete Sr[Xn][Lu[e]];return Sr()},Ko=Object.create||function(e,r){var n;return e!==null?(wn[Xn]=lf(e),n=new wn,wn[Xn]=null,n[cf]=e):n=Sr(),r===void 0?n:df(n,r)},ff=rt.f,hf=Ot,ju=De("toStringTag"),Ra=function(t,e,r){t&&!hf(t=r?t:t.prototype,ju)&&ff(t,ju,{configurable:!0,value:e})},vf=Ko,pf=ar,gf=Ra,es={};pt(es,De("iterator"),function(){return this});var mf=function(t,e,r){t.prototype=vf(es,{next:pf(1,r)}),gf(t,e+" Iterator")},bf=Ot,yf=vt,Ru=va("IE_PROTO"),wf=Object.prototype,_f=Object.getPrototypeOf||function(t){return t=yf(t),bf(t,Ru)?t[Ru]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?wf:null},_n=Ve,kf=ft,Fu=pt,Nu=lr,xf=mf,Cf=Ra,Sf=_f,Xt=De("iterator"),kn=!([].keys&&"next"in[].keys()),Ef="@@iterator",zu="keys",br="values",Bu=function(){return this},ts=function(t,e,r,n,a,u,i){xf(r,e,n);var o=function(j){if(!kn&&j in f)return f[j];switch(j){case zu:return function(){return new r(this,j)};case br:return function(){return new r(this,j)}}return function(){return new r(this,j)}},l=e+" Iterator",d=a==br,h=!1,f=t.prototype,p=f[Xt]||f[Ef]||a&&f[a],b=p||o(a),w=a?d?o("entries"):b:void 0,_=e=="Array"&&f.entries||p,y,k,U;if(_&&(U=Sf(_.call(new t)),U!==Object.prototype&&U.next&&(Cf(U,l,!0),typeof U[Xt]!="function"&&Fu(U,Xt,Bu))),d&&p&&p.name!==br&&(h=!0,b=function(){return p.call(this)}),(kn||h||!f[Xt])&&Fu(f,Xt,b),Nu[e]=b,Nu[l]=Bu,a)if(y={values:d?b:o(br),keys:u?b:o(zu),entries:w},i)for(k in y)k in f||kf(f,k,y[k]);else _n(_n.P+_n.F*(kn||h),e,y);return y},Fa=nf,yr=af,Wu=lr,Of=Tt,Tf=ts(Array,"Array",function(t,e){this._t=Of(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,yr(1)):e=="keys"?yr(0,r):e=="values"?yr(0,t[r]):yr(0,[r,t[r]])},"values");Wu.Arguments=Wu.Array;Fa("keys");Fa("values");Fa("entries");var Hu=Tf,$f=dr,Pf=ft,Uf=tt,Gu=pt,rs=lr,ns=De,Zu=ns("iterator"),Vu=ns("toStringTag"),Xu=rs.Array,qu={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1};for(var Yu=$f(qu),xn=0;xn<Yu.length;xn++){var wr=Yu[xn],Af=qu[wr],Ju=Uf[wr],mt=Ju&&Ju.prototype,_r;if(mt&&(mt[Zu]||Gu(mt,Zu,Xu),mt[Vu]||Gu(mt,Vu,wr),rs[wr]=Xu,Af))for(_r in Hu)mt[_r]||Pf(mt,_r,Hu[_r],!0)}var Cn=Ve,Df=zt,If=it,Mf=function(t,e){var r=(Df.Object||{})[t]||Object[t],n={};n[t]=e(r),Cn(Cn.S+Cn.F*If(function(){r(1)}),"Object",n)},Lf=vt,jf=dr;Mf("keys",function(){return function(e){return jf(Lf(e))}});var as=fe(/[#{invalidCharsGroup}]/,{invalidCharsGroup:Gr});function Na(t){return as.test(t)}var cr={},za={};Object.defineProperty(za,"__esModule",{value:!0});za.default=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g;Object.defineProperty(cr,"__esModule",{value:!0});cr.TypeName=void 0;var Rf=cr.parse=Bf;cr.toCodePoints=us;var Ff=za,Sn=Nf(Ff);function Nf(t){return t&&t.__esModule?t:{default:t}}var zf=cr.TypeName="emoji";function Bf(t,e){var r=e&&e.assetType?e.assetType:"svg",n=e&&e.buildUrl?e.buildUrl:function(l,d){return d==="png"?"https://twemoji.maxcdn.com/2/72x72/"+l+".png":"https://twemoji.maxcdn.com/2/svg/"+l+".svg"},a=[];for(Sn.default.lastIndex=0;;){var u=Sn.default.exec(t);if(!u)break;var i=u[0],o=us(Gf(i)).join("-");a.push({url:o?n(o,r):"",indices:[u.index,Sn.default.lastIndex],text:i,type:zf})}return a}var Wf=/\uFE0F/g,Hf="‍",Gf=function(e){return e.indexOf(Hf)<0?e.replace(Wf,""):e};function us(t){for(var e=[],r=0,n=0,a=0;a<t.length;)r=t.charCodeAt(a++),n?(e.push((65536+(n-55296<<10)+(r-56320)).toString(16)),n=0):r>55296&&r<=56319?n=r:e.push(r.toString(16));return e}var Zf=/^https:\/\//i,is=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nt.defaults,n=Object.keys(r).length?r:Nt.defaults,a=n.defaultWeight,u=n.emojiParsingEnabled,i=n.scale,o=n.maxWeightedTweetLength,l=n.transformedURLLength,d=typeof String.prototype.normalize=="function"?e.normalize():e,h=Qu(Bt(d)),f=u?Qu(Rf(d)):[],p=d.length,b=0,w=0,_=!0,y=0;y<p;y++){if(h[y]){var k=h[y],U=k.url;k.indices,b+=l*i,y+=U.length-1}else if(u&&f[y]){var j=f[y],F=j.text;j.indices,b+=a,y+=F.length-1}else y+=Vf(d,y)?1:0,b+=qc(d.charAt(y),n);_&&(_=!Na(d.substring(y,y+1))),_&&b<=o*i&&(w=y)}b=b/i,_=_&&b>0&&b<=o;var z=Math.floor(b/o*1e3),q=e.length-d.length;return w+=q,{weightedLength:b,valid:_,permillage:z,validRangeStart:0,validRangeEnd:w,displayRangeStart:0,displayRangeEnd:e.length>0?e.length-1:0}},Qu=function(e){return e.reduce(function(r,n){return r[n.indices[0]]=n,r},{})},Vf=function(e,r){if(r<e.length-1){var n=e.charCodeAt(r),a=e.charCodeAt(r+1);return 55296<=n&&n<=56319&&56320<=a&&a<=57343}return!1},os=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nt.defaults;return is(e,r).weightedLength};function ss(t){return t.replace(Zr," ").length}function ls(t){for(var e=t.split("<"),r,n=[],a,u=0;u<e.length;u+=1)if(a=e[u],!a)n.push("");else{r=a.split(">");for(var i=0;i<r.length;i+=1)n.push(r[i])}return n}function Xf(t,e,r){var n="em";if(e=e||[],r=r||{},e.length===0)return t;var a=r.tag||n,u=["<".concat(a,">"),"</".concat(a,">")],i=ls(t),o,l,d="",h=0,f=i[0],p=0,b=0,w=!1,_=f,y=[],k,U,j,F,z;for(o=0;o<e.length;o+=1)for(l=0;l<e[o].length;l+=1)y.push(e[o][l]);for(k=0;k<y.length;k+=1){for(U=y[k],j=u[k%2],F=!1;f!=null&&U>=p+f.length;)d+=_.slice(b),w&&U===p+_.length&&(d+=j,F=!0),i[h+1]&&(d+="<".concat(i[h+1],">")),p+=_.length,b=0,h+=2,f=i[h],_=f,w=!1;!F&&f!=null?(z=U-p,d+=_.slice(b,z)+j,b=z,k%2===0?w=!0:w=!1):F||(F=!0,d+=j)}if(f!=null)for(b<_.length&&(d+=_.slice(b)),k=h+1;k<i.length;k+=1)d+=k%2===0?i[k]:"<".concat(i[k],">");return d}var En=Ve;En(En.S+En.F*!nt,"Object",{defineProperty:rt.f});var On=Ve;On(On.S+On.F*!nt,"Object",{defineProperties:Qo()});var Yr={};Yr.f=Object.getOwnPropertySymbols;var qf=ir,Yf=Yr,Jf=Je,Ku=tt.Reflect,Qf=Ku&&Ku.ownKeys||function(e){var r=qf.f(Jf(e)),n=Yf.f;return n?r.concat(n(e)):r},Kf=rt,e0=ar,ds=function(t,e,r){e in t?Kf.f(t,e,e0(0,r)):t[e]=r},ei=Ve,t0=Qf,r0=Tt,n0=zr,a0=ds;ei(ei.S,"Object",{getOwnPropertyDescriptors:function(e){for(var r=r0(e),n=n0.f,a=t0(r),u={},i=0,o,l;a.length>i;)l=n(r,o=a[i++]),l!==void 0&&a0(u,o,l);return u}});var u0=ct,ti=ja,i0=De("species"),o0=function(t){var e;return ti(t)&&(e=t.constructor,typeof e=="function"&&(e===Array||ti(e.prototype))&&(e=void 0),u0(e)&&(e=e[i0],e===null&&(e=void 0))),e===void 0?Array:e},s0=o0,l0=function(t,e){return new(s0(t))(e)},d0=Nr,c0=fa,f0=vt,h0=Et,v0=l0,cs=function(t,e){var r=t==1,n=t==2,a=t==3,u=t==4,i=t==6,o=t==5||i,l=e||v0;return function(d,h,f){for(var p=f0(d),b=c0(p),w=d0(h,f,3),_=h0(b.length),y=0,k=r?l(d,_):n?l(d,0):void 0,U,j;_>y;y++)if((o||y in b)&&(U=b[y],j=w(U,y,p),t)){if(r)k[y]=j;else if(j)switch(t){case 3:return!0;case 5:return U;case 6:return y;case 2:k.push(U)}else if(u)return!1}return i?-1:a||u?u:k}},Tn=Ve,p0=cs(0),g0=ur([].forEach,!0);Tn(Tn.P+Tn.F*!g0,"Array",{forEach:function(e){return p0(this,e,arguments[1])}});var $n=Ve,m0=cs(2);$n($n.P+$n.F*!ur([].filter,!0),"Array",{filter:function(e){return m0(this,e,arguments[1])}});var fs={exports:{}},kt=nr("meta"),b0=ct,Ba=Ot,y0=rt.f,w0=0,Jr=Object.isExtensible||function(){return!0},_0=!it(function(){return Jr(Object.preventExtensions({}))}),Wa=function(t){y0(t,kt,{value:{i:"O"+ ++w0,w:{}}})},k0=function(t,e){if(!b0(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!Ba(t,kt)){if(!Jr(t))return"F";if(!e)return"E";Wa(t)}return t[kt].i},x0=function(t,e){if(!Ba(t,kt)){if(!Jr(t))return!0;if(!e)return!1;Wa(t)}return t[kt].w},C0=function(t){return _0&&S0.NEED&&Jr(t)&&!Ba(t,kt)&&Wa(t),t},S0=fs.exports={KEY:kt,NEED:!1,fastKey:k0,getWeak:x0,onFreeze:C0},E0=fs.exports,Ha={};Ha.f=De;var O0=tt,ri=zt,T0=Ha,$0=rt.f,P0=function(t){var e=ri.Symbol||(ri.Symbol=O0.Symbol||{});t.charAt(0)!="_"&&!(t in e)&&$0(e,t,{value:T0.f(t)})},U0=dr,A0=Yr,D0=Br,I0=function(t){var e=U0(t),r=A0.f;if(r)for(var n=r(t),a=D0.f,u=0,i;n.length>u;)a.call(t,i=n[u++])&&e.push(i);return e},hs={},M0=Tt,vs=ir.f,L0={}.toString,ps=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],j0=function(t){try{return vs(t)}catch{return ps.slice()}};hs.f=function(e){return ps&&L0.call(e)=="[object Window]"?j0(e):vs(M0(e))};var Qr=tt,Ae=Ot,qn=nt,Fe=Ve,ni=ft,R0=E0.KEY,Ga=it,Za=jr,Va=Ra,F0=nr,fr=De,N0=Ha,z0=P0,B0=I0,W0=ja,Yn=Je,H0=ct,G0=vt,Kr=Tt,Xa=la,Jn=ar,tr=Ko,gs=hs,ms=zr,en=Yr,bs=rt,Z0=dr,ys=ms.f,bt=bs.f,ws=gs.f,Ze=Qr.Symbol,Ur=Qr.JSON,kr=Ur&&Ur.stringify,ht="prototype",Ge=fr("_hidden"),ai=fr("toPrimitive"),V0={}.propertyIsEnumerable,qt=Za("symbol-registry"),dt=Za("symbols"),hr=Za("op-symbols"),et=Object[ht],Ht=typeof Ze=="function"&&!!en.f,Pn=Qr.QObject,Qn=!Pn||!Pn[ht]||!Pn[ht].findChild,Kn=qn&&Ga(function(){return tr(bt({},"a",{get:function(){return bt(this,"a",{value:7}).a}})).a!=7})?function(t,e,r){var n=ys(et,e);n&&delete et[e],bt(t,e,r),n&&t!==et&&bt(et,e,n)}:bt,ui=function(t){var e=dt[t]=tr(Ze[ht]);return e._k=t,e},ea=Ht&&typeof Ze.iterator=="symbol"?function(t){return typeof t=="symbol"}:function(t){return t instanceof Ze},tn=function(e,r,n){return e===et&&tn(hr,r,n),Yn(e),r=Xa(r,!0),Yn(n),Ae(dt,r)?(n.enumerable?(Ae(e,Ge)&&e[Ge][r]&&(e[Ge][r]=!1),n=tr(n,{enumerable:Jn(0,!1)})):(Ae(e,Ge)||bt(e,Ge,Jn(1,{})),e[Ge][r]=!0),Kn(e,r,n)):bt(e,r,n)},_s=function(e,r){Yn(e);for(var n=B0(r=Kr(r)),a=0,u=n.length,i;u>a;)tn(e,i=n[a++],r[i]);return e},X0=function(e,r){return r===void 0?tr(e):_s(tr(e),r)},ii=function(e){var r=V0.call(this,e=Xa(e,!0));return this===et&&Ae(dt,e)&&!Ae(hr,e)?!1:r||!Ae(this,e)||!Ae(dt,e)||Ae(this,Ge)&&this[Ge][e]?r:!0},ks=function(e,r){if(e=Kr(e),r=Xa(r,!0),!(e===et&&Ae(dt,r)&&!Ae(hr,r))){var n=ys(e,r);return n&&Ae(dt,r)&&!(Ae(e,Ge)&&e[Ge][r])&&(n.enumerable=!0),n}},xs=function(e){for(var r=ws(Kr(e)),n=[],a=0,u;r.length>a;)!Ae(dt,u=r[a++])&&u!=Ge&&u!=R0&&n.push(u);return n},Cs=function(e){for(var r=e===et,n=ws(r?hr:Kr(e)),a=[],u=0,i;n.length>u;)Ae(dt,i=n[u++])&&(!r||Ae(et,i))&&a.push(dt[i]);return a};Ht||(Ze=function(){if(this instanceof Ze)throw TypeError("Symbol is not a constructor!");var e=F0(arguments.length>0?arguments[0]:void 0),r=function(n){this===et&&r.call(hr,n),Ae(this,Ge)&&Ae(this[Ge],e)&&(this[Ge][e]=!1),Kn(this,e,Jn(1,n))};return qn&&Qn&&Kn(et,e,{configurable:!0,set:r}),ui(e)},ni(Ze[ht],"toString",function(){return this._k}),ms.f=ks,bs.f=tn,ir.f=gs.f=xs,Br.f=ii,en.f=Cs,qn&&!_l&&ni(et,"propertyIsEnumerable",ii,!0),N0.f=function(t){return ui(fr(t))});Fe(Fe.G+Fe.W+Fe.F*!Ht,{Symbol:Ze});for(var oi="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),si=0;oi.length>si;)fr(oi[si++]);for(var li=Z0(fr.store),di=0;li.length>di;)z0(li[di++]);Fe(Fe.S+Fe.F*!Ht,"Symbol",{for:function(t){return Ae(qt,t+="")?qt[t]:qt[t]=Ze(t)},keyFor:function(e){if(!ea(e))throw TypeError(e+" is not a symbol!");for(var r in qt)if(qt[r]===e)return r},useSetter:function(){Qn=!0},useSimple:function(){Qn=!1}});Fe(Fe.S+Fe.F*!Ht,"Object",{create:X0,defineProperty:tn,defineProperties:_s,getOwnPropertyDescriptor:ks,getOwnPropertyNames:xs,getOwnPropertySymbols:Cs});var q0=Ga(function(){en.f(1)});Fe(Fe.S+Fe.F*q0,"Object",{getOwnPropertySymbols:function(e){return en.f(G0(e))}});Ur&&Fe(Fe.S+Fe.F*(!Ht||Ga(function(){var t=Ze();return kr([t])!="[null]"||kr({a:t})!="{}"||kr(Object(t))!="{}"})),"JSON",{stringify:function(e){for(var r=[e],n=1,a,u;arguments.length>n;)r.push(arguments[n++]);if(u=a=r[1],!(!H0(a)&&e===void 0||ea(e)))return W0(a)||(a=function(i,o){if(typeof u=="function"&&(o=u.call(this,i,o)),!ea(o))return o}),r[1]=a,kr.apply(Ur,r)}});Ze[ht][ai]||pt(Ze[ht],ai,Ze[ht].valueOf);Va(Ze,"Symbol");Va(Math,"Math",!0);Va(Qr.JSON,"JSON",!0);function rr(t){"@babel/helpers - typeof";return rr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(t)}function Y0(t,e){if(rr(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(rr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J0(t){var e=Y0(t,"string");return rr(e)=="symbol"?e:e+""}function Q0(t,e,r){return(e=J0(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ci(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ci(r,!0).forEach(function(n){Q0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ci(r).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ss(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nt.defaults;if(!t)return"empty";var r=K0({},Nt.defaults,{},e),n=r.maxWeightedTweetLength;return os(t,r)>n?"too_long":Na(t)?"invalid_characters":!1}function eh(t){if(!t)return!1;var e=Xo(t);return e.length===1&&e[0]===t.slice(1)}var th=fe(/^#{validMentionOrList}$/,{validMentionOrList:Ia});function rh(t){var e=t.match(th);return!!(e&&e[1]==""&&e[4])}function nh(t,e){return!Ss(t,e)}var qa=/[a-z\u0400-\u04FF0-9\-._~]/i,Ya=/(?:%[0-9a-f]{2})/i,Ja=/[!$&'()*+,;=]/i,Qa=fe("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|:)*",{validateUrlUnreserved:qa,validateUrlPctEncoded:Ya,validateUrlSubDelims:Ja},"i"),Es=/(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?)/i,Os=/(?:[a-z](?:[a-z0-9\-]*[a-z0-9])?)/i,Ts=/(?:[a-z0-9](?:[a-z0-9_\-]*[a-z0-9])?)/i,$s=fe(/(?:(?:#{validateUrlSubDomainSegment}\.)*(?:#{validateUrlDomainSegment}\.)#{validateUrlDomainTld})/i,{validateUrlSubDomainSegment:Ts,validateUrlDomainSegment:Es,validateUrlDomainTld:Os}),Ps=/(?:[0-9]|(?:[1-9][0-9])|(?:1[0-9]{2})|(?:2[0-4][0-9])|(?:25[0-5]))/i,Us=fe(/(?:#{validateUrlDecOctet}(?:\.#{validateUrlDecOctet}){3})/i,{validateUrlDecOctet:Ps}),As=/(?:\[[a-f0-9:\.]+\])/i,Ka=fe("(?:#{validateUrlIpv4}|#{validateUrlIpv6})",{validateUrlIpv4:Us,validateUrlIpv6:As},"i"),Ds=fe("(?:#{validateUrlIp}|#{validateUrlDomain})",{validateUrlIp:Ka,validateUrlDomain:$s},"i"),eu=/[0-9]{1,5}/,Is=fe("(?:(#{validateUrlUserinfo})@)?(#{validateUrlHost})(?::(#{validateUrlPort}))?",{validateUrlUserinfo:Qa,validateUrlHost:Ds,validateUrlPort:eu},"i"),rn=fe("(?:#{validateUrlUnreserved}|#{validateUrlPctEncoded}|#{validateUrlSubDelims}|[:|@])",{validateUrlUnreserved:qa,validateUrlPctEncoded:Ya,validateUrlSubDelims:Ja},"i"),Ms=fe(/(#{validateUrlPchar}|\/|\?)*/i,{validateUrlPchar:rn}),Ls=fe(/(\/#{validateUrlPchar}*)*/i,{validateUrlPchar:rn}),js=fe(/(#{validateUrlPchar}|\/|\?)*/i,{validateUrlPchar:rn}),Rs=/(?:[a-z][a-z0-9+\-.]*)/i,Fs=fe("^(?:([^:/?#]+):\\/\\/)?([^/?#]*)([^?#]*)(?:\\?([^#]*))?(?:#(.*))?$","i"),Ns=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9_\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,zs=/(?:(?:[a-z0-9]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,Bs=/(?:(?:[a-z]|[^\u0000-\u007f])(?:(?:[a-z0-9\-]|[^\u0000-\u007f])*(?:[a-z0-9]|[^\u0000-\u007f]))?)/i,Ws=fe(/(?:(?:#{validateUrlUnicodeSubDomainSegment}\.)*(?:#{validateUrlUnicodeDomainSegment}\.)#{validateUrlUnicodeDomainTld})/i,{validateUrlUnicodeSubDomainSegment:Ns,validateUrlUnicodeDomainSegment:zs,validateUrlUnicodeDomainTld:Bs}),Hs=fe("(?:#{validateUrlIp}|#{validateUrlUnicodeDomain})",{validateUrlIp:Ka,validateUrlUnicodeDomain:Ws},"i"),Gs=fe("(?:(#{validateUrlUserinfo})@)?(#{validateUrlUnicodeHost})(?::(#{validateUrlPort}))?",{validateUrlUserinfo:Qa,validateUrlUnicodeHost:Hs,validateUrlPort:eu},"i");function At(t,e,r){return r?!t||t.match(e)&&RegExp["$&"]===t:typeof t=="string"&&t.match(e)&&RegExp["$&"]===t}function ah(t,e,r){if(e==null&&(e=!0),r==null&&(r=!0),!t)return!1;var n=t.match(Fs);if(!n||n[0]!==t)return!1;var a=n[1],u=n[2],i=n[3],o=n[4],l=n[5];return(!r||At(a,Rs)&&a.match(/^https?$/i))&&At(i,Ls)&&At(o,js,!0)&&At(l,Ms,!0)?e&&At(u,Gs)||!e&&At(u,Is):!1}function uh(t){if(!t)return!1;var e=Yo(t);return e.length===1&&e[0]===t.slice(1)}const ih={astralLetterAndMarks:Pa,astralNumerals:Oo,atSigns:Wt,bmpLetterAndMarks:Ua,bmpNumerals:To,cashtag:so,codePoint:Po,cyrillicLettersAndMarks:xa,endHashtagMatch:vo,endMentionMatch:Da,extractUrl:Hn,hashSigns:Hr,hashtagAlpha:Eo,hashtagAlphaNumeric:Aa,hashtagBoundary:Uo,hashtagSpecialChars:$o,invalidChars:as,invalidCharsGroup:Gr,invalidDomainChars:go,invalidUrlWithoutProtocolPrecedingChars:Co,latinAccentChars:or,nonBmpCodePairs:Zr,punct:ha,rtlChars:No,spaces:ma,spacesGroup:ga,urlHasHttps:Zf,urlHasProtocol:Wo,validAsciiDomain:Ta,validateUrlAuthority:Is,validateUrlDecOctet:Ps,validateUrlDomain:$s,validateUrlDomainSegment:Es,validateUrlDomainTld:Os,validateUrlFragment:Ms,validateUrlHost:Ds,validateUrlIp:Ka,validateUrlIpv4:Us,validateUrlIpv6:As,validateUrlPath:Ls,validateUrlPchar:rn,validateUrlPctEncoded:Ya,validateUrlPort:eu,validateUrlQuery:js,validateUrlScheme:Rs,validateUrlSubDelims:Ja,validateUrlSubDomainSegment:Ts,validateUrlUnencoded:Fs,validateUrlUnicodeAuthority:Gs,validateUrlUnicodeDomain:Ws,validateUrlUnicodeDomainSegment:zs,validateUrlUnicodeDomainTld:Bs,validateUrlUnicodeHost:Hs,validateUrlUnicodeSubDomainSegment:Ns,validateUrlUnreserved:qa,validateUrlUserinfo:Qa,validCashtag:ho,validCCTLD:ba,validDomain:yo,validDomainChars:wa,validDomainName:mo,validGeneralUrlPathChars:Ca,validGTLD:_a,validHashtag:Ao,validMentionOrList:Ia,validMentionPrecedingChars:Do,validPortNumber:wo,validPunycode:ka,validReply:Jo,validSubdomain:bo,validTcoUrl:So,validUrlBalancedParens:Sa,validUrlPath:ko,validUrlPathEndingChars:_o,validUrlPrecedingChars:xo,validUrlQueryChars:Ea,validUrlQueryEndingChars:Oa};var oh=Yi(!0);ts(String,"String",function(t){this._t=String(t),this._i=0},function(){var t=this._t,e=this._i,r;return e>=t.length?{value:void 0,done:!0}:(r=oh(t,e),this._i+=r.length,{value:r,done:!1})});var fi=Je,sh=function(t,e,r,n){try{return n?e(fi(r)[0],r[1]):e(r)}catch(u){var a=t.return;throw a!==void 0&&fi(a.call(t)),u}},lh=lr,dh=De("iterator"),ch=Array.prototype,fh=function(t){return t!==void 0&&(lh.Array===t||ch[dh]===t)},hh=ia,vh=De("iterator"),ph=lr,gh=zt.getIteratorMethod=function(t){if(t!=null)return t[vh]||t["@@iterator"]||ph[hh(t)]},Un,hi;function mh(){if(hi)return Un;hi=1;var t=De("iterator"),e=!1;try{var r=[7][t]();r.return=function(){e=!0},Array.from(r,function(){throw 2})}catch{}return Un=function(n,a){if(!a&&!e)return!1;var u=!1;try{var i=[7],o=i[t]();o.next=function(){return{done:u=!0}},i[t]=function(){return o},n(i)}catch{}return u},Un}var bh=Nr,An=Ve,yh=vt,wh=sh,_h=fh,kh=Et,vi=ds,xh=gh;An(An.S+An.F*!mh()(function(t){Array.from(t)}),"Array",{from:function(e){var r=yh(e),n=typeof this=="function"?this:Array,a=arguments.length,u=a>1?arguments[1]:void 0,i=u!==void 0,o=0,l=xh(r),d,h,f,p;if(i&&(u=bh(u,a>2?arguments[2]:void 0,2)),l!=null&&!(n==Array&&_h(l)))for(p=l.call(r),h=new n;!(f=p.next()).done;o++)vi(h,o,i?wh(p,u,[f.value,o],!0):f.value);else for(d=kh(r.length),h=new n(d);d>o;o++)vi(h,o,i?u(r[o],o):r[o]);return h.length=o,h}});function Ch(t,e,r){var n=ss(t),a=t.length-n;if(a>0){var u=Array.from(t),i=e===0?"":u.slice(0,e).join(""),o=u.slice(e,r).join("");return[i.length,i.length+o.length]}return[e,r]}const Sh={autoLink:Rc,autoLinkCashtags:Fc,autoLinkEntities:$t,autoLinkHashtags:Nc,autoLinkUrlsCustom:zc,autoLinkUsernamesOrLists:Bc,autoLinkWithJSON:Wc,configs:Nt,convertUnicodeIndices:Hc,extractCashtags:Gc,extractCashtagsWithIndices:Wr,extractEntitiesWithIndices:Io,extractHashtags:Xo,extractHashtagsWithIndices:Vr,extractHtmlAttrsFromOptions:Mo,extractMentions:Yo,extractMentionsOrListsWithIndices:Xr,extractMentionsWithIndices:qo,extractReplies:Zc,extractUrls:Vc,extractUrlsWithIndices:Bt,getTweetLength:os,getUnicodeTextLength:ss,hasInvalidCharacters:Na,hitHighlight:Xf,htmlEscape:ut,isInvalidTweet:Ss,isValidHashtag:eh,isValidList:rh,isValidTweetText:nh,isValidUrl:ah,isValidUsername:uh,linkTextWithEntity:Bo,linkToCashtag:Fo,linkToHashtag:zo,linkToMentionAndList:Go,linkToText:Pr,linkToTextWithSymbol:qr,linkToUrl:Ho,modifyIndicesFromUTF16ToUnicode:Yc,modifyIndicesFromUnicodeToUTF16:Vo,regexen:ih,removeOverlappingEntities:$a,parseTweet:is,splitTags:ls,standardizeIndices:Ch,tagAttrs:Ro};var Eh={VITE_API_ENDPOINT:"https://pppost-api.netlify.app/.netlify/functions",VITE_TWITTER_REDIRECT_URL:"https://amay077.github.io/pppost",VITE_MASTODON_SERVER01:"Mastodon.cloud(prod) mastodon.cloud c8QPP8GMhQek0m_e8Djb5sz9L69Pl94QQjzxpxKZrEk",VITE_MASTODON_SERVER02:"Mstdn.jp mstdn.jp gIAagB7-8KP6XEW1xHW3Wh3UjOH9A-ircwMlZX-80xw",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const Be=(()=>{const t=["Mastodon.cloud(prod) mastodon.cloud c8QPP8GMhQek0m_e8Djb5sz9L69Pl94QQjzxpxKZrEk","Mstdn.jp mstdn.jp gIAagB7-8KP6XEW1xHW3Wh3UjOH9A-ircwMlZX-80xw",Eh.VITE_MASTODON_SERVER03].filter(e=>(e==null?void 0:e.length)>0).map(e=>{const[r,n,a]=`${e}`.split(" ");return{name:r,server:n,client_id:a}});return console.log(t),{API_ENDPOINT:"https://pppost-api.netlify.app/.netlify/functions",post_targets:{mastodon:t,twitter:{redirect_uri:"https://amay077.github.io/pppost"}}}})();console.log(Be);function Gt(t){localStorage.setItem(`ppp_setting_${t.type}`,JSON.stringify(t))}function lt(t){const e=localStorage.getItem(`ppp_setting_${t}`);return((e==null?void 0:e.length)??0)<=0?null:JSON.parse(e)}function tu(t){localStorage.removeItem(`ppp_setting_${t}`)}function Oh(t){localStorage.setItem("ppp_message",JSON.stringify(t))}function Th(){const t=localStorage.getItem("ppp_message");return((t==null?void 0:t.length)??0)<=0?null:JSON.parse(t)}function pi(t,e,r){const n=t.slice();return n[12]=e[r],n}function $h(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-down"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function Ph(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-right"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function gi(t){let e;function r(u,i){return u[3]!=null?Ah:Uh}let n=r(t),a=n(t);return{c(){e=x("div"),a.c(),c(e,"class","p-1")},m(u,i){X(u,e,i),a.m(e,null)},p(u,i){n===(n=r(u))&&a?a.p(u,i):(a.d(1),a=n(u),a&&(a.c(),a.m(e,null)))},d(u){u&&V(e),a.d()}}}function Uh(t){let e,r,n,a,u,i,o,l,d,h,f,p,b,w,_,y,k,U,j,F,z=Ft(t[5]),q=[];for(let $=0;$<z.length;$+=1)q[$]=mi(pi(t,z,$));return{c(){var $;e=x("div"),r=x("div"),n=x("span"),n.textContent="1.Mastodon サーバーに接続",a=W(),u=x("div"),i=x("select");for(let J=0;J<q.length;J+=1)q[J].c();o=W(),l=x("button"),l.textContent="接続",d=W(),h=x("div"),f=x("span"),f.textContent="2.認証コードを貼り付けて設定",p=W(),b=x("div"),w=x("input"),_=W(),y=x("button"),k=Ee("設定"),c(i,"class","form-select form-select-sm"),t[1]===void 0&&er(()=>t[10].call(i)),c(l,"class","btn btn-sm btn-primary"),ce(l,"width","60px"),c(u,"class","d-flex flex-row gap-1"),c(r,"class","d-flex flex-column gap-1"),c(w,"class","form-control form-control-sm"),c(w,"type","text"),c(y,"class","btn btn-sm btn-primary"),y.disabled=U=(($=t[2])==null?void 0:$.length)<=0,ce(y,"width","60px"),c(b,"class","d-flex flex-row gap-1"),c(h,"class","d-flex flex-column gap-1"),c(e,"class","d-flex flex-column gap-1")},m($,J){X($,e,J),m(e,r),m(r,n),m(r,a),m(r,u),m(u,i);for(let ae=0;ae<q.length;ae+=1)q[ae]&&q[ae].m(i,null);Er(i,t[1],!0),m(u,o),m(u,l),m(e,d),m(e,h),m(h,f),m(h,p),m(h,b),m(b,w),Pe(w,t[2]),m(b,_),m(b,y),m(y,k),j||(F=[ue(i,"change",t[10]),ue(l,"click",t[6]),ue(w,"input",t[11]),ue(y,"click",t[7])],j=!0)},p($,J){var ae;if(J&32){z=Ft($[5]);let Q;for(Q=0;Q<z.length;Q+=1){const K=pi($,z,Q);q[Q]?q[Q].p(K,J):(q[Q]=mi(K),q[Q].c(),q[Q].m(i,null))}for(;Q<q.length;Q+=1)q[Q].d(1);q.length=z.length}J&34&&Er(i,$[1]),J&4&&w.value!==$[2]&&Pe(w,$[2]),J&4&&U!==(U=((ae=$[2])==null?void 0:ae.length)<=0)&&(y.disabled=U)},d($){$&&V(e),Wi(q,$),j=!1,Ye(F)}}}function Ah(t){let e,r,n,a,u,i;return{c(){e=x("div"),r=x("span"),r.textContent="接続済み",n=W(),a=x("button"),a.textContent="切断",c(a,"class","btn btn-sm btn-outline-primary"),ce(a,"width","60px"),c(e,"class","d-flex flex-row gap-2 align-items-center")},m(o,l){X(o,e,l),m(e,r),m(e,n),m(e,a),u||(i=ue(a,"click",t[9]),u=!0)},p:Ue,d(o){o&&V(e),u=!1,i()}}}function mi(t){let e,r=t[12].name+"",n,a,u=t[12].server+"",i,o;return{c(){e=x("option"),n=Ee(r),a=Ee(" (https://"),i=Ee(u),o=Ee(")"),e.__value=t[12].server,Pe(e,e.__value)},m(l,d){X(l,e,d),m(e,n),m(e,a),m(e,i),m(e,o)},p:Ue,d(l){l&&V(e)}}}function Dh(t){let e,r,n,a,u,i,o;function l(p,b){return p[0]?$h:Ph}let d=l(t),h=d(t),f=t[0]&&gi(t);return{c(){e=x("div"),r=x("div"),n=x("h5"),n.textContent="Mastodon",a=W(),h.c(),u=W(),f&&f.c(),c(n,"class","mb-0"),c(r,"class","d-flex flex-row gap-1 align-items-center"),ce(r,"cursor","pointer")},m(p,b){X(p,e,b),m(e,r),m(r,n),m(r,a),h.m(r,null),m(e,u),f&&f.m(e,null),i||(o=ue(r,"click",t[8]),i=!0)},p(p,[b]){d!==(d=l(p))&&(h.d(1),h=d(p),h&&(h.c(),h.m(r,null))),p[0]?f?f.p(p,b):(f=gi(p),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:Ue,o:Ue,d(p){p&&V(e),h.d(),f&&f.d(),i=!1,o()}}}function Ih(t,e,r){const n=Dr();let a=!1;const u=Be.post_targets.mastodon;let i="mastodon.cloud",o="",l=lt("mastodon");const d=()=>{const _=u.find(k=>k.server===i);if(_==null){console.error("onApplyMastodonAccessToken -> settings:",_);return}const y=`https://${_.server}/oauth/authorize?client_id=${_.client_id}&response_type=code&redirect_uri=urn:ietf:wg:oauth:2.0:oob&scope=read+write`;window.open(y,"_blank")},h=async()=>{console.log("onApplyMastodonAccessToken -> mastodonCode:",o);const _=u.find(U=>U.server===i);if(_==null){console.error("onApplyMastodonAccessToken -> settings:",_);return}const y=await fetch(`${Be.API_ENDPOINT}/mastodon_token?server=${_.server}&code=${o}`);if(!y.ok){console.error("failed to fetch:",y);return}const k=await y.json();r(3,l={type:"mastodon",title:"Mastodon",enabled:!0,server:_.server,token_data:k}),Gt(l),n("onChange"),alert("Mastodon に接続しました。")},f=()=>{r(0,a=!a)},p=()=>{r(3,l=null),tu("mastodon"),n("onChange")};function b(){i=Hi(this),r(1,i),r(5,u)}function w(){o=this.value,r(2,o)}return[a,i,o,l,n,u,d,h,f,p,b,w]}class Mh extends St{constructor(e){super(),Ct(this,e,Ih,Dh,xt,{})}}function Lh(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-down"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function jh(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-right"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function bi(t){let e;function r(u,i){return u[1]!=null?Fh:Rh}let n=r(t),a=n(t);return{c(){e=x("div"),a.c(),c(e,"class","p-2")},m(u,i){X(u,e,i),a.m(e,null)},p(u,i){n===(n=r(u))&&a?a.p(u,i):(a.d(1),a=n(u),a&&(a.c(),a.m(e,null)))},d(u){u&&V(e),a.d()}}}function Rh(t){let e,r,n,a,u,i,o,l,d,h,f,p,b,w,_;return{c(){var y,k;e=x("div"),r=x("div"),n=x("span"),n.textContent="1.ユーザーIDとアプリパスワードを入力",a=W(),u=x("div"),i=x("input"),o=W(),l=x("div"),d=x("input"),h=W(),f=x("button"),p=Ee("接続"),c(i,"class","form-control form-control-sm"),c(i,"placeholder","Identifier(e.g. e-mail)"),c(i,"type","text"),c(u,"class","d-flex flex-row gap-1"),c(d,"class","form-control form-control-sm"),c(d,"type","password"),c(d,"placeholder","App Password"),c(f,"class","btn btn-sm btn-primary"),f.disabled=b=((y=t[2])==null?void 0:y.length)<=0||((k=t[3])==null?void 0:k.length)<=0,ce(f,"width","60px"),c(l,"class","d-flex flex-row gap-1"),c(r,"class","d-flex flex-column gap-1"),c(e,"class","d-flex flex-column gap-1")},m(y,k){X(y,e,k),m(e,r),m(r,n),m(r,a),m(r,u),m(u,i),Pe(i,t[2]),m(r,o),m(r,l),m(l,d),Pe(d,t[3]),m(l,h),m(l,f),m(f,p),w||(_=[ue(i,"input",t[8]),ue(d,"input",t[9]),ue(f,"click",t[5])],w=!0)},p(y,k){var U,j;k&4&&i.value!==y[2]&&Pe(i,y[2]),k&8&&d.value!==y[3]&&Pe(d,y[3]),k&12&&b!==(b=((U=y[2])==null?void 0:U.length)<=0||((j=y[3])==null?void 0:j.length)<=0)&&(f.disabled=b)},d(y){y&&V(e),w=!1,Ye(_)}}}function Fh(t){let e,r,n,a,u,i;return{c(){e=x("div"),r=x("span"),r.textContent="接続済み",n=W(),a=x("button"),a.textContent="切断",c(a,"class","btn btn-sm btn-outline-primary"),ce(a,"width","60px"),c(e,"class","d-flex flex-row gap-2 align-items-center")},m(o,l){X(o,e,l),m(e,r),m(e,n),m(e,a),u||(i=ue(a,"click",t[7]),u=!0)},p:Ue,d(o){o&&V(e),u=!1,i()}}}function Nh(t){let e,r,n,a,u,i,o;function l(p,b){return p[0]?Lh:jh}let d=l(t),h=d(t),f=t[0]&&bi(t);return{c(){e=x("div"),r=x("h5"),r.textContent="Bluesky",n=W(),h.c(),a=W(),f&&f.c(),u=Ar(),c(r,"class","mb-0"),c(e,"class","d-flex flex-row gap-1 align-items-center"),ce(e,"cursor","pointer"),ce(e,"width","100%")},m(p,b){X(p,e,b),m(e,r),m(e,n),h.m(e,null),X(p,a,b),f&&f.m(p,b),X(p,u,b),i||(o=ue(e,"click",t[6]),i=!0)},p(p,[b]){d!==(d=l(p))&&(h.d(1),h=d(p),h&&(h.c(),h.m(e,null))),p[0]?f?f.p(p,b):(f=bi(p),f.c(),f.m(u.parentNode,u)):f&&(f.d(1),f=null)},i:Ue,o:Ue,d(p){p&&(V(e),V(a),V(u)),h.d(),f&&f.d(p),i=!1,o()}}}function zh(t,e,r){var b,w;const n=Dr();let a=!1,u=lt("bluesky"),i=((w=(b=u==null?void 0:u.data)==null?void 0:b.sessionData)==null?void 0:w.email)??"",o="";const l=async()=>{console.log("onApplyBSkySettings -> user:",i);try{const _=await fetch(`${Be.API_ENDPOINT}/bluesky_login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:i,password:o})});if(!_.ok){const U=await _.json();console.error("onApplyBSkySettings -> error:",U),alert("Bluesky に接続できませんでした。");return}const k=(await _.json()).sessionData;r(1,u={type:"bluesky",title:"Bluesky",enabled:!0,data:{sessionData:k}}),Gt(u),n("onChange"),alert("Bluesky に接続しました。")}catch(_){console.error("onApplyBSkySettings -> error:",_),alert("Bluesky に接続できませんでした。")}},d=()=>{r(0,a=!a)},h=()=>{r(1,u=null),tu("bluesky"),n("onChange")};function f(){i=this.value,r(2,i)}function p(){o=this.value,r(3,o)}return[a,u,i,o,n,l,d,h,f,p]}class Bh extends St{constructor(e){super(),Ct(this,e,zh,Nh,xt,{})}}function Wh(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-down"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function Hh(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-right"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function yi(t){let e;function r(u,i){return u[2]!=null?Zh:Gh}let n=r(t),a=n(t);return{c(){e=x("div"),a.c(),c(e,"class","p-1")},m(u,i){X(u,e,i),a.m(e,null)},p(u,i){n===(n=r(u))&&a?a.p(u,i):(a.d(1),a=n(u),a&&(a.c(),a.m(e,null)))},d(u){u&&V(e),a.d()}}}function Gh(t){let e,r,n,a,u,i,o,l,d,h,f,p,b,w,_,y,k,U;return{c(){var j;e=x("div"),r=x("div"),n=x("div"),a=x("span"),a.textContent="1.",u=W(),i=x("button"),i.textContent="接続",o=W(),l=x("div"),d=x("span"),d.textContent="2.PINコードを貼り付けて設定",h=W(),f=x("div"),p=x("input"),b=W(),w=x("button"),_=Ee("設定"),c(i,"class","btn btn-sm btn-primary"),ce(i,"width","60px"),c(n,"class","d-flex flex-row align-items-center gap-1"),c(r,"class","d-flex flex-column gap-1"),c(p,"class","form-control form-control-sm"),c(p,"type","text"),c(w,"class","btn btn-sm btn-primary"),w.disabled=y=((j=t[3])==null?void 0:j.length)<=0,ce(w,"width","60px"),c(f,"class","d-flex flex-row gap-1"),c(l,"class","d-flex flex-column gap-1"),c(e,"class","d-flex flex-column gap-1")},m(j,F){X(j,e,F),m(e,r),m(r,n),m(n,a),m(n,u),m(n,i),m(e,o),m(e,l),m(l,d),m(l,h),m(l,f),m(f,p),Pe(p,t[3]),m(f,b),m(f,w),m(w,_),k||(U=[ue(i,"click",t[5]),ue(p,"input",t[8]),ue(w,"click",t[0])],k=!0)},p(j,F){var z;F&8&&p.value!==j[3]&&Pe(p,j[3]),F&8&&y!==(y=((z=j[3])==null?void 0:z.length)<=0)&&(w.disabled=y)},d(j){j&&V(e),k=!1,Ye(U)}}}function Zh(t){let e,r,n,a,u,i;return{c(){e=x("div"),r=x("span"),r.textContent="接続済み",n=W(),a=x("button"),a.textContent="切断",c(a,"class","btn btn-sm btn-outline-primary"),ce(a,"width","60px"),c(e,"class","d-flex flex-row gap-2 align-items-center")},m(o,l){X(o,e,l),m(e,r),m(e,n),m(e,a),u||(i=ue(a,"click",t[7]),u=!0)},p:Ue,d(o){o&&V(e),u=!1,i()}}}function Vh(t){let e,r,n,a,u,i,o;function l(p,b){return p[1]?Wh:Hh}let d=l(t),h=d(t),f=t[1]&&yi(t);return{c(){e=x("div"),r=x("div"),n=x("h5"),n.textContent="Twitter",a=W(),h.c(),u=W(),f&&f.c(),c(n,"class","mb-0"),c(r,"class","d-flex flex-row gap-1 align-items-center"),ce(r,"cursor","pointer")},m(p,b){X(p,e,b),m(e,r),m(r,n),m(r,a),h.m(r,null),m(e,u),f&&f.m(e,null),i||(o=ue(r,"click",t[6]),i=!0)},p(p,[b]){d!==(d=l(p))&&(h.d(1),h=d(p),h&&(h.c(),h.m(r,null))),p[1]?f?f.p(p,b):(f=yi(p),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:Ue,o:Ue,d(p){p&&V(e),h.d(),f&&f.d(),i=!1,o()}}}function Xh(t,e,r){const n=Dr();let a=!1,u=lt("twitter"),i="",o="",l="";const d=async()=>{const w=await fetch(`${Be.API_ENDPOINT}/twitter_auth`,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({})}),{url:_,oauth_token:y,data:k}=await w.json();i=y,l=k,window.open(_,"_blank")};async function h(){const w=await fetch(`${Be.API_ENDPOINT}/twitter_token?code=${o}&oauth_token=${i}&data=${l}`);if(r(3,o=""),w.ok){const _=await w.json();r(2,u={type:"twitter",title:"Twitter",enabled:!0,token_data:{token:_.token}}),Gt(u),n("onChange"),alert("Twitter に接続しました。")}else console.error("twitter 接続エラー -> res:",w),alert("Twitter に接続できませんでした。")}const f=()=>{r(1,a=!a)},p=()=>{r(2,u=null),tu("twitter"),n("onChange")};function b(){o=this.value,r(3,o)}return[h,a,u,o,n,d,f,p,b]}class qh extends St{constructor(e){super(),Ct(this,e,Xh,Vh,xt,{onApplyTwitterPinCode:0})}get onApplyTwitterPinCode(){return this.$$.ctx[0]}}var Zs={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(Jt,function(){var r=1e3,n=6e4,a=36e5,u="millisecond",i="second",o="minute",l="hour",d="day",h="week",f="month",p="quarter",b="year",w="date",_="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,U={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var A=["th","st","nd","rd"],M=D%100;return"["+D+(A[(M-20)%10]||A[M]||A[0])+"]"}},j=function(D,A,M){var G=String(D);return!G||G.length>=A?D:""+Array(A+1-G.length).join(M)+D},F={s:j,z:function(D){var A=-D.utcOffset(),M=Math.abs(A),G=Math.floor(M/60),L=M%60;return(A<=0?"+":"-")+j(G,2,"0")+":"+j(L,2,"0")},m:function D(A,M){if(A.date()<M.date())return-D(M,A);var G=12*(M.year()-A.year())+(M.month()-A.month()),L=A.clone().add(G,f),re=M-L<0,O=A.clone().add(G+(re?-1:1),f);return+(-(G+(M-L)/(re?L-O:O-L))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:f,y:b,w:h,d,D:w,h:l,m:o,s:i,ms:u,Q:p}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},z="en",q={};q[z]=U;var $="$isDayjsObject",J=function(D){return D instanceof de||!(!D||!D[$])},ae=function D(A,M,G){var L;if(!A)return z;if(typeof A=="string"){var re=A.toLowerCase();q[re]&&(L=re),M&&(q[re]=M,L=re);var O=A.split("-");if(!L&&O.length>1)return D(O[0])}else{var P=A.name;q[P]=A,L=P}return!G&&L&&(z=L),L||!G&&z},Q=function(D,A){if(J(D))return D.clone();var M=typeof A=="object"?A:{};return M.date=D,M.args=arguments,new de(M)},K=F;K.l=ae,K.i=J,K.w=function(D,A){return Q(D,{locale:A.$L,utc:A.$u,x:A.$x,$offset:A.$offset})};var de=function(){function D(M){this.$L=ae(M.locale,null,!0),this.parse(M),this.$x=this.$x||M.x||{},this[$]=!0}var A=D.prototype;return A.parse=function(M){this.$d=function(G){var L=G.date,re=G.utc;if(L===null)return new Date(NaN);if(K.u(L))return new Date;if(L instanceof Date)return new Date(L);if(typeof L=="string"&&!/Z$/i.test(L)){var O=L.match(y);if(O){var P=O[2]-1||0,R=(O[7]||"0").substring(0,3);return re?new Date(Date.UTC(O[1],P,O[3]||1,O[4]||0,O[5]||0,O[6]||0,R)):new Date(O[1],P,O[3]||1,O[4]||0,O[5]||0,O[6]||0,R)}}return new Date(L)}(M),this.init()},A.init=function(){var M=this.$d;this.$y=M.getFullYear(),this.$M=M.getMonth(),this.$D=M.getDate(),this.$W=M.getDay(),this.$H=M.getHours(),this.$m=M.getMinutes(),this.$s=M.getSeconds(),this.$ms=M.getMilliseconds()},A.$utils=function(){return K},A.isValid=function(){return this.$d.toString()!==_},A.isSame=function(M,G){var L=Q(M);return this.startOf(G)<=L&&L<=this.endOf(G)},A.isAfter=function(M,G){return Q(M)<this.startOf(G)},A.isBefore=function(M,G){return this.endOf(G)<Q(M)},A.$g=function(M,G,L){return K.u(M)?this[G]:this.set(L,M)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(M,G){var L=this,re=!!K.u(G)||G,O=K.p(M),P=function(he,be){var we=K.w(L.$u?Date.UTC(L.$y,be,he):new Date(L.$y,be,he),L);return re?we:we.endOf(d)},R=function(he,be){return K.w(L.toDate()[he].apply(L.toDate("s"),(re?[0,0,0,0]:[23,59,59,999]).slice(be)),L)},Z=this.$W,Y=this.$M,le=this.$D,me="set"+(this.$u?"UTC":"");switch(O){case b:return re?P(1,0):P(31,11);case f:return re?P(1,Y):P(0,Y+1);case h:var ve=this.$locale().weekStart||0,pe=(Z<ve?Z+7:Z)-ve;return P(re?le-pe:le+(6-pe),Y);case d:case w:return R(me+"Hours",0);case l:return R(me+"Minutes",1);case o:return R(me+"Seconds",2);case i:return R(me+"Milliseconds",3);default:return this.clone()}},A.endOf=function(M){return this.startOf(M,!1)},A.$set=function(M,G){var L,re=K.p(M),O="set"+(this.$u?"UTC":""),P=(L={},L[d]=O+"Date",L[w]=O+"Date",L[f]=O+"Month",L[b]=O+"FullYear",L[l]=O+"Hours",L[o]=O+"Minutes",L[i]=O+"Seconds",L[u]=O+"Milliseconds",L)[re],R=re===d?this.$D+(G-this.$W):G;if(re===f||re===b){var Z=this.clone().set(w,1);Z.$d[P](R),Z.init(),this.$d=Z.set(w,Math.min(this.$D,Z.daysInMonth())).$d}else P&&this.$d[P](R);return this.init(),this},A.set=function(M,G){return this.clone().$set(M,G)},A.get=function(M){return this[K.p(M)]()},A.add=function(M,G){var L,re=this;M=Number(M);var O=K.p(G),P=function(Y){var le=Q(re);return K.w(le.date(le.date()+Math.round(Y*M)),re)};if(O===f)return this.set(f,this.$M+M);if(O===b)return this.set(b,this.$y+M);if(O===d)return P(1);if(O===h)return P(7);var R=(L={},L[o]=n,L[l]=a,L[i]=r,L)[O]||1,Z=this.$d.getTime()+M*R;return K.w(Z,this)},A.subtract=function(M,G){return this.add(-1*M,G)},A.format=function(M){var G=this,L=this.$locale();if(!this.isValid())return L.invalidDate||_;var re=M||"YYYY-MM-DDTHH:mm:ssZ",O=K.z(this),P=this.$H,R=this.$m,Z=this.$M,Y=L.weekdays,le=L.months,me=L.meridiem,ve=function(be,we,ge,xe){return be&&(be[we]||be(G,re))||ge[we].slice(0,xe)},pe=function(be){return K.s(P%12||12,be,"0")},he=me||function(be,we,ge){var xe=be<12?"AM":"PM";return ge?xe.toLowerCase():xe};return re.replace(k,function(be,we){return we||function(ge){switch(ge){case"YY":return String(G.$y).slice(-2);case"YYYY":return K.s(G.$y,4,"0");case"M":return Z+1;case"MM":return K.s(Z+1,2,"0");case"MMM":return ve(L.monthsShort,Z,le,3);case"MMMM":return ve(le,Z);case"D":return G.$D;case"DD":return K.s(G.$D,2,"0");case"d":return String(G.$W);case"dd":return ve(L.weekdaysMin,G.$W,Y,2);case"ddd":return ve(L.weekdaysShort,G.$W,Y,3);case"dddd":return Y[G.$W];case"H":return String(P);case"HH":return K.s(P,2,"0");case"h":return pe(1);case"hh":return pe(2);case"a":return he(P,R,!0);case"A":return he(P,R,!1);case"m":return String(R);case"mm":return K.s(R,2,"0");case"s":return String(G.$s);case"ss":return K.s(G.$s,2,"0");case"SSS":return K.s(G.$ms,3,"0");case"Z":return O}return null}(be)||O.replace(":","")})},A.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},A.diff=function(M,G,L){var re,O=this,P=K.p(G),R=Q(M),Z=(R.utcOffset()-this.utcOffset())*n,Y=this-R,le=function(){return K.m(O,R)};switch(P){case b:re=le()/12;break;case f:re=le();break;case p:re=le()/3;break;case h:re=(Y-Z)/6048e5;break;case d:re=(Y-Z)/864e5;break;case l:re=Y/a;break;case o:re=Y/n;break;case i:re=Y/r;break;default:re=Y}return L?re:K.a(re)},A.daysInMonth=function(){return this.endOf(f).$D},A.$locale=function(){return q[this.$L]},A.locale=function(M,G){if(!M)return this.$L;var L=this.clone(),re=ae(M,G,!0);return re&&(L.$L=re),L},A.clone=function(){return K.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},D}(),se=de.prototype;return Q.prototype=se,[["$ms",u],["$s",i],["$m",o],["$H",l],["$W",d],["$M",f],["$y",b],["$D",w]].forEach(function(D){se[D[1]]=function(A){return this.$g(A,D[0],D[1])}}),Q.extend=function(D,A){return D.$i||(D(A,de,Q),D.$i=!0),Q},Q.locale=ae,Q.isDayjs=J,Q.unix=function(D){return Q(1e3*D)},Q.en=q[z],Q.Ls=q,Q.p={},Q})})(Zs);var Yh=Zs.exports;const Jh=aa(Yh);async function Qh(t,e="image.png"){try{const r=await fetch(`${Be.API_ENDPOINT}/supabase_presigned_url`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:e})});if(!r.ok)return console.error("Failed to get presigned URL:",r.status),null;const{uploadUrl:n,publicUrl:a,token:u}=await r.json(),i=t.replace(/^data:image\/\w+;base64,/,""),o=atob(i),l=new Array(o.length);for(let b=0;b<o.length;b++)l[b]=o.charCodeAt(b);const d=new Uint8Array(l),h=e.split(".").pop()||"png",f=new Blob([d],{type:`image/${h}`}),p=await fetch(n,{method:"PUT",headers:{Authorization:`Bearer ${u}`,"Content-Type":`image/${h}`},body:f});return p.ok?a:(console.error("Failed to upload image:",p.status),null)}catch(r){return console.error("Error uploading to Supabase:",r),null}}async function Kh(t){if(!t||t.length===0)return!0;try{const e=await fetch(`${Be.API_ENDPOINT}/supabase_delete`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:t})});if(!e.ok){const n=await e.text();return console.error("Failed to delete images:",n),!1}const r=await e.json();return r.errors&&r.errors.length>0&&console.error("Some images failed to delete:",r.errors),r.success}catch(e){return console.error("Error deleting images from Supabase:",e),!1}}const _e={mastodon:lt("mastodon"),bluesky:lt("bluesky"),twitter:lt("twitter")};var Ri,Fi,Ni;const Xe={mastodon:((Ri=_e==null?void 0:_e.mastodon)==null?void 0:Ri.enabled)??!1,bluesky:((Fi=_e==null?void 0:_e.bluesky)==null?void 0:Fi.enabled)??!1,twitter:((Ni=_e==null?void 0:_e.twitter)==null?void 0:Ni.enabled)??!1};async function ev(){const t=await fetch(`${Be.API_ENDPOINT}/ver`);return t.ok?await t.json():{build_at:"unknown",env_ver:"unknown"}}const tv=async()=>{const t=Array.from(Object.entries(Xe)).filter(([o,l])=>l).map(([o,l])=>o),e=[];for(const o of t)switch(o){case"mastodon":e.push(iv().then(l=>({type:"mastodon",posts:l})));break;case"bluesky":e.push(av().then(l=>({type:"bluesky",posts:l})));break;case"twitter":e.push(uv().then(l=>({type:"twitter",posts:l})));break}const n=(await Promise.allSettled(e)).filter(o=>o.status=="fulfilled").map(o=>o.value).reduce((o,l)=>(((l==null?void 0:l.posts)??[]).forEach(d=>{o.push({type:l.type,post:d})}),o),[]),a=o=>o.length>50?o.substring(0,50)+"...":o,i=(o=>{const l={};return o.forEach(({type:d,post:h})=>{const f=h.text.substring(0,10);l[f]||(l[f]={display_posted_at:Jh(h.posted_at).format("M/DD H:MM"),trimmed_text:a(h.text),postOfType:{mastodon:void 0,twitter:void 0,bluesky:void 0}}),l[f].postOfType[d]=h}),Object.values(l)})(n??[]);return console.log(i),i},rv=async(t,e,r)=>{var o,l,d;const n=[],a=[];if(e.length>0)for(let h=0;h<e.length;h++){const p=e[h].split(",")[1],b=`image_${h+1}.png`,w=await sv(p,b);if(w!=null)a.push(w);else return console.error(`Failed to upload image ${h+1}`),{errors:["画像のアップロードに失敗しました"]}}const u=Array.from(Object.entries(Xe)).filter(([h,f])=>f).map(([h,f])=>h),i=[];for(const h of u){switch(h){case"mastodon":i.push(nv(t,a,(o=r==null?void 0:r.reply_to_ids)==null?void 0:o.mastodon).then(f=>{f||n.push("Mastodon")}));break;case"bluesky":i.push(ov(t,a,(l=r==null?void 0:r.reply_to_ids)==null?void 0:l.bluesky).then(f=>{f||n.push("Bluesky")}));break;case"twitter":i.push(lv(t,a,(d=r==null?void 0:r.reply_to_ids)==null?void 0:d.twitter).then(f=>{f||n.push("Twitter")}));break}await Promise.allSettled(i)}if(n.length==0){a.length>0&&(console.log("Deleting temporary images from Supabase..."),await Kh(a)?console.log("Temporary images deleted successfully"):console.error("Failed to delete some temporary images"));for(const[h,f]of Object.entries(_e)){const p=h;f!=null&&(f.enabled=Xe[p]==!0,Gt(f))}}else console.log("Post failed, keeping temporary images for retry");return{errors:n}},nv=async(t,e,r)=>{try{const n=_e.mastodon,a=n.server,u=n.token_data.access_token,i=t;return!!(await fetch(`${Be.API_ENDPOINT}/mastodon_post`,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({host:a,token:n.token_data.access_token,status:i,images:e,reply_to_id:r})})).ok}catch(n){return console.error("postToMastodon -> error:",n),!1}},av=async()=>{var t,e;try{const r=(e=(t=_e.bluesky)==null?void 0:t.data)==null?void 0:e.sessionData;if(!r)return console.error("Bluesky session data not found"),[];const n=await fetch(`${Be.API_ENDPOINT}/bluesky_posts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:r})});if(n.ok){const a=await n.json();return a.sessionData&&(_e.bluesky={type:"bluesky",title:"Bluesky",enabled:!0,data:{sessionData:a.sessionData}},Gt(_e.bluesky)),a.posts||[]}else return[]}catch(r){return console.error("loadMyPostsBluesky -> error:",r),[]}},uv=async()=>{try{const e=_e.twitter.token_data.token,r=await fetch(`${Be.API_ENDPOINT}/twitter_posts`,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({token:e})});if(r.ok){const n=await r.json();return console.log("FIXME 後で消す  -> loadMyPostsTwritter -> resJson:",n),n}else return[]}catch(t){return console.error("loadMyPostsTwritter -> error:",t),[]}},iv=async()=>{try{const t=_e.mastodon,e=t.server,r=t.token_data.access_token,n=await fetch(`${Be.API_ENDPOINT}/mastodon_posts`,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({host:e,token:r})});if(n.ok){const a=await n.json();return console.log("FIXME 後で消す  -> loadMyPostsMastodon -> resJson:",a),a}else return[]}catch(t){return console.error("loadMyPostsMastodon -> error:",t),[]}},ov=async(t,e,r)=>{var n,a;try{const u=(a=(n=_e.bluesky)==null?void 0:n.data)==null?void 0:a.sessionData;if(!u)return console.error("Bluesky session data not found"),!1;const i=await fetch(`${Be.API_ENDPOINT}/bluesky_post`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionData:u,text:t,images:e,reply_to_id:r})});if(i.ok){const o=await i.json();return console.log("postToBluesky response:",o),o.sessionData&&(_e.bluesky={type:"bluesky",title:"Bluesky",enabled:!0,data:{sessionData:o.sessionData}},Gt(_e.bluesky)),!0}else{const o=await i.json();return console.error("Bluesky post failed:",o),!1}}catch(u){return console.error("postToBluesky -> error:",u),!1}},sv=async(t,e="image.png")=>await Qh(t,e),lv=async(t,e,r)=>{try{const a=_e.twitter.token_data.token,u=await fetch(`${Be.API_ENDPOINT}/twitter_post`,{method:"POST",headers:{"Content-Type":"text/plain"},body:JSON.stringify({token:a,text:t,images:e,reply_to_id:r})});if(u.ok){const i=await u.json();console.log("FIXME 後で消す  -> postToTwritter -> resJson:",i)}else return!1;return!0}catch(n){return console.error("postToMastodon -> error:",n),!1}};function wi(t){return new Promise(e=>{const r=new FileReader;r.onload=n=>{e(n.target.result)},r.readAsDataURL(t)})}var ta={exports:{}};(function(t,e){(function(r,n){typeof e.nodeName!="string"?t.exports=n():r.Croppie=n()})(typeof self<"u"?self:Jt,function(){if(typeof Promise!="function"){/*! promise-polyfill 3.1.0 */(function(s){function g(I,ee){return function(){I.apply(ee,arguments)}}function v(I){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof I!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],H(I,g(S,this),g(E,this))}function C(I){var ee=this;return this._state===null?void this._deferreds.push(I):void ie(function(){var N=ee._state?I.onFulfilled:I.onRejected;if(N===null)return void(ee._state?I.resolve:I.reject)(ee._value);var te;try{te=N(ee._value)}catch(oe){return void I.reject(oe)}I.resolve(te)})}function S(I){try{if(I===this)throw new TypeError("A promise cannot be resolved with itself.");if(I&&(typeof I=="object"||typeof I=="function")){var ee=I.then;if(typeof ee=="function")return void H(g(ee,I),g(S,this),g(E,this))}this._state=!0,this._value=I,B.call(this)}catch(N){E.call(this,N)}}function E(I){this._state=!1,this._value=I,B.call(this)}function B(){for(var I=0,ee=this._deferreds.length;ee>I;I++)C.call(this,this._deferreds[I]);this._deferreds=null}function T(I,ee,N,te){this.onFulfilled=typeof I=="function"?I:null,this.onRejected=typeof ee=="function"?ee:null,this.resolve=N,this.reject=te}function H(I,ee,N){var te=!1;try{I(function(oe){te||(te=!0,ee(oe))},function(oe){te||(te=!0,N(oe))})}catch(oe){if(te)return;te=!0,N(oe)}}var ne=setTimeout,ie=typeof setImmediate=="function"&&setImmediate||function(I){ne(I,1)},ye=Array.isArray||function(I){return Object.prototype.toString.call(I)==="[object Array]"};v.prototype.catch=function(I){return this.then(null,I)},v.prototype.then=function(I,ee){var N=this;return new v(function(te,oe){C.call(N,new T(I,ee,te,oe))})},v.all=function(){var I=Array.prototype.slice.call(arguments.length===1&&ye(arguments[0])?arguments[0]:arguments);return new v(function(ee,N){function te(Oe,Te){try{if(Te&&(typeof Te=="object"||typeof Te=="function")){var He=Te.then;if(typeof He=="function")return void He.call(Te,function(je){te(Oe,je)},N)}I[Oe]=Te,--oe===0&&ee(I)}catch(je){N(je)}}if(I.length===0)return ee([]);for(var oe=I.length,Ce=0;Ce<I.length;Ce++)te(Ce,I[Ce])})},v.resolve=function(I){return I&&typeof I=="object"&&I.constructor===v?I:new v(function(ee){ee(I)})},v.reject=function(I){return new v(function(ee,N){N(I)})},v.race=function(I){return new v(function(ee,N){for(var te=0,oe=I.length;oe>te;te++)I[te].then(ee,N)})},v._setImmediateFn=function(I){ie=I},t.exports?t.exports=v:s.Promise||(s.Promise=v)})(this)}typeof window<"u"&&typeof window.CustomEvent!="function"&&function(){function s(g,v){v=v||{bubbles:!1,cancelable:!1,detail:void 0};var C=document.createEvent("CustomEvent");return C.initCustomEvent(g,v.bubbles,v.cancelable,v.detail),C}s.prototype=window.Event.prototype,window.CustomEvent=s}(),typeof HTMLCanvasElement<"u"&&!HTMLCanvasElement.prototype.toBlob&&Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(s,g,v){for(var C=atob(this.toDataURL(g,v).split(",")[1]),S=C.length,E=new Uint8Array(S),B=0;B<S;B++)E[B]=C.charCodeAt(B);s(new Blob([E],{type:g||"image/png"}))}});var r=["Webkit","Moz","ms"],n=typeof document<"u"?document.createElement("div").style:{},a=[1,8,3,6],u=[2,7,4,5],i,o,l;function d(s){if(s in n)return s;for(var g=s[0].toUpperCase()+s.slice(1),v=r.length;v--;)if(s=r[v]+g,s in n)return s}o=d("transform"),i=d("transformOrigin"),l=d("userSelect");function h(s,g){var v=a.indexOf(s)>-1?a:u,C=v.indexOf(s),S=g/90%v.length;return v[(v.length+C+S%v.length)%v.length]}function f(s,g){s=s||{};for(var v in g)g[v]&&g[v].constructor&&g[v].constructor===Object?(s[v]=s[v]||{},f(s[v],g[v])):s[v]=g[v];return s}function p(s){return f({},s)}function b(s,g,v){var C;return function(){var S=this,E=arguments,B=function(){C=null,s.apply(S,E)};clearTimeout(C),C=setTimeout(B,g)}}function w(s){if("createEvent"in document){var g=document.createEvent("HTMLEvents");g.initEvent("change",!1,!0),s.dispatchEvent(g)}else s.fireEvent("onchange")}function _(s,g,v){if(typeof g=="string"){var C=g;g={},g[C]=v}for(var S in g)s.style[S]=g[S]}function y(s,g){s.classList?s.classList.add(g):s.className+=" "+g}function k(s,g){s.classList?s.classList.remove(g):s.className=s.className.replace(g,"")}function U(s,g){for(var v in g)s.setAttribute(v,g[v])}function j(s){return parseInt(s,10)}function F(s,g){if(!s)throw"Source image missing";var v=new Image;return v.style.opacity="0",new Promise(function(C,S){function E(){v.style.opacity="1",setTimeout(function(){C(v)},1)}v.removeAttribute("crossOrigin"),s.match(/^https?:\/\/|^\/\//)&&v.setAttribute("crossOrigin","anonymous"),v.onload=function(){g?EXIF.getData(v,function(){E()}):E()},v.onerror=function(B){v.style.opacity=1,setTimeout(function(){S(B)},1)},v.src=s})}function z(s,g){var v=s.naturalWidth,C=s.naturalHeight,S=g||ae(s);if(S&&S>=5){var E=v;v=C,C=E}return{width:v,height:C}}var q={translate3d:{suffix:", 0px"},translate:{suffix:""}},$=function(s,g,v){this.x=parseFloat(s),this.y=parseFloat(g),this.scale=parseFloat(v)};$.parse=function(s){return s.style?$.parse(s.style[o]):s.indexOf("matrix")>-1||s.indexOf("none")>-1?$.fromMatrix(s):$.fromString(s)},$.fromMatrix=function(s){var g=s.substring(7).split(",");return(!g.length||s==="none")&&(g=[1,0,0,1,0,0]),new $(j(g[4]),j(g[5]),parseFloat(g[0]))},$.fromString=function(s){var g=s.split(") "),v=g[0].substring($e.globals.translate.length+1).split(","),C=g.length>1?g[1].substring(6):1,S=v.length>1?v[0]:0,E=v.length>1?v[1]:0;return new $(S,E,C)},$.prototype.toString=function(){var s=q[$e.globals.translate].suffix||"";return $e.globals.translate+"("+this.x+"px, "+this.y+"px"+s+") scale("+this.scale+")"};var J=function(s){if(!s||!s.style[i]){this.x=0,this.y=0;return}var g=s.style[i].split(" ");this.x=parseFloat(g[0]),this.y=parseFloat(g[1])};J.prototype.toString=function(){return this.x+"px "+this.y+"px"};function ae(s){return s.exifdata&&s.exifdata.Orientation?j(s.exifdata.Orientation):1}function Q(s,g,v){var C=g.width,S=g.height,E=s.getContext("2d");switch(s.width=g.width,s.height=g.height,E.save(),v){case 2:E.translate(C,0),E.scale(-1,1);break;case 3:E.translate(C,S),E.rotate(180*Math.PI/180);break;case 4:E.translate(0,S),E.scale(1,-1);break;case 5:s.width=S,s.height=C,E.rotate(90*Math.PI/180),E.scale(1,-1);break;case 6:s.width=S,s.height=C,E.rotate(90*Math.PI/180),E.translate(0,-S);break;case 7:s.width=S,s.height=C,E.rotate(-90*Math.PI/180),E.translate(-C,S),E.scale(1,-1);break;case 8:s.width=S,s.height=C,E.translate(0,C),E.rotate(-90*Math.PI/180);break}E.drawImage(g,0,0,C,S),E.restore()}function K(){var s=this,g="croppie-container",v=s.options.viewport.type?"cr-vp-"+s.options.viewport.type:null,C,S,E,B,T,H;s.options.useCanvas=s.options.enableOrientation||de.call(s),s.data={},s.elements={},C=s.elements.boundary=document.createElement("div"),E=s.elements.viewport=document.createElement("div"),S=s.elements.img=document.createElement("img"),B=s.elements.overlay=document.createElement("div"),s.options.useCanvas?(s.elements.canvas=document.createElement("canvas"),s.elements.preview=s.elements.canvas):s.elements.preview=S,y(C,"cr-boundary"),C.setAttribute("aria-dropeffect","none"),T=s.options.boundary.width,H=s.options.boundary.height,_(C,{width:T+(isNaN(T)?"":"px"),height:H+(isNaN(H)?"":"px")}),y(E,"cr-viewport"),v&&y(E,v),_(E,{width:s.options.viewport.width+"px",height:s.options.viewport.height+"px"}),E.setAttribute("tabindex",0),y(s.elements.preview,"cr-image"),U(s.elements.preview,{alt:"preview","aria-grabbed":"false"}),y(B,"cr-overlay"),s.element.appendChild(C),C.appendChild(s.elements.preview),C.appendChild(E),C.appendChild(B),y(s.element,g),s.options.customClass&&y(s.element,s.options.customClass),re.call(this),s.options.enableZoom&&A.call(s),s.options.enableResize&&se.call(s)}function de(){return this.options.enableExif&&window.EXIF}function se(){var s=this,g=document.createElement("div"),v=!1,C,S,E,B=50,T,H,ne,ie;y(g,"cr-resizer"),_(g,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(ne=document.createElement("div"),y(ne,"cr-resizer-vertical"),g.appendChild(ne)),this.options.resizeControls.width&&(ie=document.createElement("div"),y(ie,"cr-resizer-horisontal"),g.appendChild(ie));function ye(N){if(!(N.button!==void 0&&N.button!==0)&&(N.preventDefault(),!v)){var te=s.elements.overlay.getBoundingClientRect();if(v=!0,S=N.pageX,E=N.pageY,C=N.currentTarget.className.indexOf("vertical")!==-1?"v":"h",T=te.width,H=te.height,N.touches){var oe=N.touches[0];S=oe.pageX,E=oe.pageY}window.addEventListener("mousemove",I),window.addEventListener("touchmove",I),window.addEventListener("mouseup",ee),window.addEventListener("touchend",ee),document.body.style[l]="none"}}function I(N){var te=N.pageX,oe=N.pageY;if(N.preventDefault(),N.touches){var Ce=N.touches[0];te=Ce.pageX,oe=Ce.pageY}var Oe=te-S,Te=oe-E,He=s.options.viewport.height+Te,je=s.options.viewport.width+Oe;C==="v"&&He>=B&&He<=H?(_(g,{height:He+"px"}),s.options.boundary.height+=Te,_(s.elements.boundary,{height:s.options.boundary.height+"px"}),s.options.viewport.height+=Te,_(s.elements.viewport,{height:s.options.viewport.height+"px"})):C==="h"&&je>=B&&je<=T&&(_(g,{width:je+"px"}),s.options.boundary.width+=Oe,_(s.elements.boundary,{width:s.options.boundary.width+"px"}),s.options.viewport.width+=Oe,_(s.elements.viewport,{width:s.options.viewport.width+"px"})),O.call(s),le.call(s),L.call(s),R.call(s),E=oe,S=te}function ee(){v=!1,window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",I),window.removeEventListener("mouseup",ee),window.removeEventListener("touchend",ee),document.body.style[l]=""}ne&&(ne.addEventListener("mousedown",ye),ne.addEventListener("touchstart",ye)),ie&&(ie.addEventListener("mousedown",ye),ie.addEventListener("touchstart",ye)),this.elements.boundary.appendChild(g)}function D(s){if(this.options.enableZoom){var g=this.elements.zoomer,v=Se(s,4);g.value=Math.max(parseFloat(g.min),Math.min(parseFloat(g.max),v)).toString()}}function A(){var s=this,g=s.elements.zoomerWrap=document.createElement("div"),v=s.elements.zoomer=document.createElement("input");y(g,"cr-slider-wrap"),y(v,"cr-slider"),v.type="range",v.step="0.0001",v.value="1",v.style.display=s.options.showZoomer?"":"none",v.setAttribute("aria-label","zoom"),s.element.appendChild(g),g.appendChild(v),s._currentZoom=1;function C(){M.call(s,{value:parseFloat(v.value),origin:new J(s.elements.preview),viewportRect:s.elements.viewport.getBoundingClientRect(),transform:$.parse(s.elements.preview)})}function S(E){var B,T;if(s.options.mouseWheelZoom==="ctrl"&&E.ctrlKey!==!0)return 0;E.wheelDelta?B=E.wheelDelta/1200:E.deltaY?B=E.deltaY/1060:E.detail?B=E.detail/-60:B=0,T=s._currentZoom+B*s._currentZoom,E.preventDefault(),D.call(s,T),C.call(s)}s.elements.zoomer.addEventListener("input",C),s.elements.zoomer.addEventListener("change",C),s.options.mouseWheelZoom&&(s.elements.boundary.addEventListener("mousewheel",S),s.elements.boundary.addEventListener("DOMMouseScroll",S))}function M(s){var g=this,v=s?s.transform:$.parse(g.elements.preview),C=s?s.viewportRect:g.elements.viewport.getBoundingClientRect(),S=s?s.origin:new J(g.elements.preview);function E(){var ne={};ne[o]=v.toString(),ne[i]=S.toString(),_(g.elements.preview,ne)}if(g._currentZoom=s?s.value:g._currentZoom,v.scale=g._currentZoom,g.elements.zoomer.setAttribute("aria-valuenow",g._currentZoom),E(),g.options.enforceBoundary){var B=G.call(g,C),T=B.translate,H=B.origin;v.x>=T.maxX&&(S.x=H.minX,v.x=T.maxX),v.x<=T.minX&&(S.x=H.maxX,v.x=T.minX),v.y>=T.maxY&&(S.y=H.minY,v.y=T.maxY),v.y<=T.minY&&(S.y=H.maxY,v.y=T.minY)}E(),P.call(g),R.call(g)}function G(s){var g=this,v=g._currentZoom,C=s.width,S=s.height,E=g.elements.boundary.clientWidth/2,B=g.elements.boundary.clientHeight/2,T=g.elements.preview.getBoundingClientRect(),H=T.width,ne=T.height,ie=C/2,ye=S/2,I=(ie/v-E)*-1,ee=I-(H*(1/v)-C*(1/v)),N=(ye/v-B)*-1,te=N-(ne*(1/v)-S*(1/v)),oe=1/v*ie,Ce=H*(1/v)-oe,Oe=1/v*ye,Te=ne*(1/v)-Oe;return{translate:{maxX:I,minX:ee,maxY:N,minY:te},origin:{maxX:Ce,minX:oe,maxY:Te,minY:Oe}}}function L(s){var g=this,v=g._currentZoom,C=g.elements.preview.getBoundingClientRect(),S=g.elements.viewport.getBoundingClientRect(),E=$.parse(g.elements.preview.style[o]),B=new J(g.elements.preview),T=S.top-C.top+S.height/2,H=S.left-C.left+S.width/2,ne={},ie={};if(s){var ye=B.x,I=B.y,ee=E.x,N=E.y;ne.y=ye,ne.x=I,E.y=ee,E.x=N}else ne.y=T/v,ne.x=H/v,ie.y=(ne.y-B.y)*(1-v),ie.x=(ne.x-B.x)*(1-v),E.x-=ie.x,E.y-=ie.y;var te={};te[i]=ne.x+"px "+ne.y+"px",te[o]=E.toString(),_(g.elements.preview,te)}function re(){var s=this,g=!1,v,C,S,E,B;function T(N,te){var oe=s.elements.preview.getBoundingClientRect(),Ce=B.y+te,Oe=B.x+N;s.options.enforceBoundary?(E.top>oe.top+te&&E.bottom<oe.bottom+te&&(B.y=Ce),E.left>oe.left+N&&E.right<oe.right+N&&(B.x=Oe)):(B.y=Ce,B.x=Oe)}function H(N){s.elements.preview.setAttribute("aria-grabbed",N),s.elements.boundary.setAttribute("aria-dropeffect",N?"move":"none")}function ne(N){var te=37,oe=38,Ce=39,Oe=40;if(N.shiftKey&&(N.keyCode===oe||N.keyCode===Oe)){var Te;N.keyCode===oe?Te=parseFloat(s.elements.zoomer.value)+parseFloat(s.elements.zoomer.step):Te=parseFloat(s.elements.zoomer.value)-parseFloat(s.elements.zoomer.step),s.setZoom(Te)}else if(s.options.enableKeyMovement&&N.keyCode>=37&&N.keyCode<=40){N.preventDefault();var He=je(N.keyCode);B=$.parse(s.elements.preview),document.body.style[l]="none",E=s.elements.viewport.getBoundingClientRect(),ie(He)}function je(Pt){switch(Pt){case te:return[1,0];case oe:return[0,1];case Ce:return[-1,0];case Oe:return[0,-1]}}}function ie(N){var te=N[0],oe=N[1],Ce={};T(te,oe),Ce[o]=B.toString(),_(s.elements.preview,Ce),O.call(s),document.body.style[l]="",L.call(s),R.call(s),S=0}function ye(N){if(!(N.button!==void 0&&N.button!==0)&&(N.preventDefault(),!g)){if(g=!0,v=N.pageX,C=N.pageY,N.touches){var te=N.touches[0];v=te.pageX,C=te.pageY}H(g),B=$.parse(s.elements.preview),window.addEventListener("mousemove",I),window.addEventListener("touchmove",I),window.addEventListener("mouseup",ee),window.addEventListener("touchend",ee),document.body.style[l]="none",E=s.elements.viewport.getBoundingClientRect()}}function I(N){N.preventDefault();var te=N.pageX,oe=N.pageY;if(N.touches){var Ce=N.touches[0];te=Ce.pageX,oe=Ce.pageY}var Oe=te-v,Te=oe-C,He={};if(N.type==="touchmove"&&N.touches.length>1){var je=N.touches[0],Pt=N.touches[1],ru=Math.sqrt((je.pageX-Pt.pageX)*(je.pageX-Pt.pageX)+(je.pageY-Pt.pageY)*(je.pageY-Pt.pageY));S||(S=ru/s._currentZoom);var Vs=ru/S;D.call(s,Vs),w(s.elements.zoomer);return}T(Oe,Te),He[o]=B.toString(),_(s.elements.preview,He),O.call(s),C=oe,v=te}function ee(){g=!1,H(g),window.removeEventListener("mousemove",I),window.removeEventListener("touchmove",I),window.removeEventListener("mouseup",ee),window.removeEventListener("touchend",ee),document.body.style[l]="",L.call(s),R.call(s),S=0}s.elements.overlay.addEventListener("mousedown",ye),s.elements.viewport.addEventListener("keydown",ne),s.elements.overlay.addEventListener("touchstart",ye)}function O(){if(this.elements){var s=this,g=s.elements.boundary.getBoundingClientRect(),v=s.elements.preview.getBoundingClientRect();_(s.elements.overlay,{width:v.width+"px",height:v.height+"px",top:v.top-g.top+"px",left:v.left-g.left+"px"})}}var P=b(O,500);function R(){var s=this,g=s.get();if(Z.call(s))if(s.options.update.call(s,g),s.$&&typeof Prototype>"u")s.$(s.element).trigger("update.croppie",g);else{var v;window.CustomEvent?v=new CustomEvent("update",{detail:g}):(v=document.createEvent("CustomEvent"),v.initCustomEvent("update",!0,!0,g)),s.element.dispatchEvent(v)}}function Z(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function Y(){var s=this,g=1,v={},C=s.elements.preview,S,E=new $(0,0,g),B=new J,T=Z.call(s);!T||s.data.bound||(s.data.bound=!0,v[o]=E.toString(),v[i]=B.toString(),v.opacity=1,_(C,v),S=s.elements.preview.getBoundingClientRect(),s._originalImageWidth=S.width,s._originalImageHeight=S.height,s.data.orientation=de.call(s)?ae(s.elements.img):s.data.orientation,s.options.enableZoom?le.call(s,!0):s._currentZoom=g,E.scale=s._currentZoom,v[o]=E.toString(),_(C,v),s.data.points.length?me.call(s,s.data.points):ve.call(s),L.call(s),O.call(s))}function le(s){var g=this,v=Math.max(g.options.minZoom,0)||0,C=g.options.maxZoom||1.5,S,E,B=g.elements.zoomer,T=parseFloat(B.value),H=g.elements.boundary.getBoundingClientRect(),ne=z(g.elements.img,g.data.orientation),ie=g.elements.viewport.getBoundingClientRect(),ye,I;g.options.enforceBoundary&&(ye=ie.width/ne.width,I=ie.height/ne.height,v=Math.max(ye,I)),v>=C&&(C=v+1),B.min=Se(v,4),B.max=Se(C,4),!s&&(T<B.min||T>B.max)?D.call(g,T<B.min?B.min:B.max):s&&(E=Math.max(H.width/ne.width,H.height/ne.height),S=g.data.boundZoom!==null?g.data.boundZoom:E,D.call(g,S)),w(B)}function me(s){if(s.length!==4)throw"Croppie - Invalid number of points supplied: "+s;var g=this,v=s[2]-s[0],C=g.elements.viewport.getBoundingClientRect(),S=g.elements.boundary.getBoundingClientRect(),E={left:C.left-S.left,top:C.top-S.top},B=C.width/v,T=s[1],H=s[0],ne=-1*s[1]+E.top,ie=-1*s[0]+E.left,ye={};ye[i]=H+"px "+T+"px",ye[o]=new $(ie,ne,B).toString(),_(g.elements.preview,ye),D.call(g,B),g._currentZoom=B}function ve(){var s=this,g=s.elements.preview.getBoundingClientRect(),v=s.elements.viewport.getBoundingClientRect(),C=s.elements.boundary.getBoundingClientRect(),S=v.left-C.left,E=v.top-C.top,B=S-(g.width-v.width)/2,T=E-(g.height-v.height)/2,H=new $(B,T,s._currentZoom);_(s.elements.preview,o,H.toString())}function pe(s){var g=this,v=g.elements.canvas,C=g.elements.img,S=v.getContext("2d");S.clearRect(0,0,v.width,v.height),v.width=C.width,v.height=C.height;var E=g.options.enableOrientation&&s||ae(C);Q(v,C,E)}function he(s){var g=this,v=s.points,C=j(v[0]),S=j(v[1]),E=j(v[2]),B=j(v[3]),T=E-C,H=B-S,ne=s.circle,ie=document.createElement("canvas"),ye=ie.getContext("2d"),I=s.outputWidth||T,ee=s.outputHeight||H;ie.width=I,ie.height=ee,s.backgroundColor&&(ye.fillStyle=s.backgroundColor,ye.fillRect(0,0,I,ee));var N=C,te=S,oe=T,Ce=H,Oe=0,Te=0,He=I,je=ee;return C<0&&(N=0,Oe=Math.abs(C)/T*I),oe+N>g._originalImageWidth&&(oe=g._originalImageWidth-N,He=oe/T*I),S<0&&(te=0,Te=Math.abs(S)/H*ee),Ce+te>g._originalImageHeight&&(Ce=g._originalImageHeight-te,je=Ce/H*ee),ye.drawImage(this.elements.preview,N,te,oe,Ce,Oe,Te,He,je),ne&&(ye.fillStyle="#fff",ye.globalCompositeOperation="destination-in",ye.beginPath(),ye.arc(ie.width/2,ie.height/2,ie.width/2,0,Math.PI*2,!0),ye.closePath(),ye.fill()),ie}function be(s){var g=s.points,v=document.createElement("div"),C=document.createElement("img"),S=g[2]-g[0],E=g[3]-g[1];return y(v,"croppie-result"),v.appendChild(C),_(C,{left:-1*g[0]+"px",top:-1*g[1]+"px"}),C.src=s.url,_(v,{width:S+"px",height:E+"px"}),v}function we(s){return he.call(this,s).toDataURL(s.format,s.quality)}function ge(s){var g=this;return new Promise(function(v){he.call(g,s).toBlob(function(C){v(C)},s.format,s.quality)})}function xe(s){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(g){s.classList.add(g)}),this.elements.img.parentNode.replaceChild(s,this.elements.img),this.elements.preview=s),this.elements.img=s}function Ie(s,g){var v=this,C,S=[],E=null,B=de.call(v);if(typeof s=="string")C=s,s={};else if(Array.isArray(s))S=s.slice();else{if(typeof s>"u"&&v.data.url)return Y.call(v),R.call(v),null;C=s.url,S=s.points||[],E=typeof s.zoom>"u"?null:s.zoom}return v.data.bound=!1,v.data.url=C||v.data.url,v.data.boundZoom=E,F(C,B).then(function(T){if(xe.call(v,T),S.length)v.options.relative&&(S=[S[0]*T.naturalWidth/100,S[1]*T.naturalHeight/100,S[2]*T.naturalWidth/100,S[3]*T.naturalHeight/100]);else{var H=z(T),ne=v.elements.viewport.getBoundingClientRect(),ie=ne.width/ne.height,ye=H.width/H.height,I,ee;ye>ie?(ee=H.height,I=ee*ie):(I=H.width,ee=H.height/ie);var N=(H.width-I)/2,te=(H.height-ee)/2,oe=N+I,Ce=te+ee;v.data.points=[N,te,oe,Ce]}v.data.orientation=s.orientation||1,v.data.points=S.map(function(Oe){return parseFloat(Oe)}),v.options.useCanvas&&pe.call(v,v.data.orientation),Y.call(v),R.call(v),g&&g()})}function Se(s,g){return parseFloat(s).toFixed(g||0)}function Ne(){var s=this,g=s.elements.preview.getBoundingClientRect(),v=s.elements.viewport.getBoundingClientRect(),C=v.left-g.left,S=v.top-g.top,E=(v.width-s.elements.viewport.offsetWidth)/2,B=(v.height-s.elements.viewport.offsetHeight)/2,T=C+s.elements.viewport.offsetWidth+E,H=S+s.elements.viewport.offsetHeight+B,ne=s._currentZoom;(ne===1/0||isNaN(ne))&&(ne=1);var ie=s.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return C=Math.max(ie,C/ne),S=Math.max(ie,S/ne),T=Math.max(ie,T/ne),H=Math.max(ie,H/ne),{points:[Se(C),Se(S),Se(T),Se(H)],zoom:ne,orientation:s.data.orientation}}var Me={type:"canvas",format:"png",quality:1},st=["jpeg","webp","png"];function Le(s){var g=this,v=Ne.call(g),C=f(p(Me),p(s)),S=typeof s=="string"?s:C.type||"base64",E=C.size||"viewport",B=C.format,T=C.quality,H=C.backgroundColor,ne=typeof C.circle=="boolean"?C.circle:g.options.viewport.type==="circle",ie=g.elements.viewport.getBoundingClientRect(),ye=ie.width/ie.height,I;return E==="viewport"?(v.outputWidth=ie.width,v.outputHeight=ie.height):typeof E=="object"&&(E.width&&E.height?(v.outputWidth=E.width,v.outputHeight=E.height):E.width?(v.outputWidth=E.width,v.outputHeight=E.width/ye):E.height&&(v.outputWidth=E.height*ye,v.outputHeight=E.height)),st.indexOf(B)>-1&&(v.format="image/"+B,v.quality=T),v.circle=ne,v.url=g.data.url,v.backgroundColor=H,I=new Promise(function(ee){switch(S.toLowerCase()){case"rawcanvas":ee(he.call(g,v));break;case"canvas":case"base64":ee(we.call(g,v));break;case"blob":ge.call(g,v).then(ee);break;default:ee(be.call(g,v));break}}),I}function We(){Y.call(this)}function at(s){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var g=this,v=g.elements.canvas;if(g.data.orientation=h(g.data.orientation,s),Q(v,g.elements.img,g.data.orientation),L.call(g,!0),le.call(g),Math.abs(s)/90%2===1){var C=g._originalImageHeight,S=g._originalImageWidth;g._originalImageWidth=C,g._originalImageHeight=S}}function vr(){var s=this;s.element.removeChild(s.elements.boundary),k(s.element,"croppie-container"),s.options.enableZoom&&s.element.removeChild(s.elements.zoomerWrap),delete s.elements}if(typeof window<"u"&&window.jQuery){var Qe=window.jQuery;Qe.fn.croppie=function(s){var g=typeof s;if(g==="string"){var v=Array.prototype.slice.call(arguments,1),C=Qe(this).data("croppie");return s==="get"?C.get():s==="result"?C.result.apply(C,v):s==="bind"?C.bind.apply(C,v):this.each(function(){var S=Qe(this).data("croppie");if(S){var E=S[s];if(Qe.isFunction(E))E.apply(S,v),s==="destroy"&&Qe(this).removeData("croppie");else throw"Croppie "+s+" method not found"}})}else return this.each(function(){var S=new $e(this,s);S.$=Qe,Qe(this).data("croppie",S)})}}function $e(s,g){if(s.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=s,this.options=f(p($e.defaults),g),this.element.tagName.toLowerCase()==="img"){var v=this.element;y(v,"cr-original-image"),U(v,{"aria-hidden":"true",alt:""});var C=document.createElement("div");this.element.parentNode.appendChild(C),C.appendChild(v),this.element=C,this.options.url=this.options.url||v.src}if(K.call(this),this.options.url){var S={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,Ie.call(this,S)}}return $e.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},$e.globals={translate:"translate3d"},f($e.prototype,{bind:function(s,g){return Ie.call(this,s,g)},get:function(){var s=Ne.call(this),g=s.points;return this.options.relative&&(g[0]/=this.elements.img.naturalWidth/100,g[1]/=this.elements.img.naturalHeight/100,g[2]/=this.elements.img.naturalWidth/100,g[3]/=this.elements.img.naturalHeight/100),s},result:function(s){return Le.call(this,s)},refresh:function(){return We.call(this)},setZoom:function(s){D.call(this,s),w(this.elements.zoomer)},rotate:function(s){at.call(this,s)},destroy:function(){return vr.call(this)}}),$e})})(ta,ta.exports);var dv=ta.exports;const Dn=aa(dv);function _i(t){let e,r,n,a,u,i,o,l,d,h,f,p,b,w,_,y,k,U,j,F,z,q,$,J,ae,Q,K,de,se,D,A,M,G,L,re,O,P,R,Z,Y,le,me,ve,pe,he,be,we,ge,xe,Ie,Se,Ne,Me,st,Le;return{c(){e=x("div"),r=x("div"),n=x("div"),a=x("div"),u=x("h5"),u.textContent="画像をクロップ",i=W(),o=x("button"),l=W(),d=x("div"),h=x("div"),f=x("div"),p=W(),b=x("div"),w=x("div"),_=x("button"),_.textContent="1:1",y=W(),k=x("button"),k.textContent="4:3",U=W(),j=x("button"),j.textContent="16:9",F=W(),z=x("button"),z.textContent="3:4",q=W(),$=x("button"),$.textContent="9:16",J=W(),ae=x("div"),Q=x("div"),K=x("span"),K.textContent="幅:",de=W(),se=x("button"),D=x("span"),D.textContent="−",M=W(),G=x("button"),L=x("span"),L.textContent="+",O=W(),P=x("div"),R=x("span"),R.textContent="高さ:",Z=W(),Y=x("button"),le=x("span"),le.textContent="−",ve=W(),pe=x("button"),he=x("span"),he.textContent="+",we=W(),ge=x("div"),xe=x("button"),xe.textContent="戻す",Ie=W(),Se=x("button"),Se.textContent="キャンセル",Ne=W(),Me=x("button"),Me.textContent="確定",c(u,"class","modal-title svelte-1dy3sam"),c(u,"id","cropModalTitle"),c(o,"type","button"),c(o,"class","btn-close svelte-1dy3sam"),c(o,"aria-label","Close"),c(a,"class","modal-header svelte-1dy3sam"),c(_,"type","button"),c(_,"class","btn btn-sm btn-outline-primary"),c(k,"type","button"),c(k,"class","btn btn-sm btn-outline-primary"),c(j,"type","button"),c(j,"class","btn btn-sm btn-outline-primary"),c(z,"type","button"),c(z,"class","btn btn-sm btn-outline-primary"),c($,"type","button"),c($,"class","btn btn-sm btn-outline-primary"),c(w,"class","aspect-ratio-buttons svelte-1dy3sam"),c(K,"class","dimension-label svelte-1dy3sam"),c(D,"aria-hidden","true"),c(se,"type","button"),c(se,"class","btn btn-sm btn-outline-secondary"),se.disabled=A=t[2].width<=100,c(L,"aria-hidden","true"),c(G,"type","button"),c(G,"class","btn btn-sm btn-outline-secondary"),G.disabled=re=t[2].width>=400,c(Q,"class","viewport-dimension svelte-1dy3sam"),c(R,"class","dimension-label svelte-1dy3sam"),c(le,"aria-hidden","true"),c(Y,"type","button"),c(Y,"class","btn btn-sm btn-outline-secondary"),Y.disabled=me=t[2].height<=100,c(he,"aria-hidden","true"),c(pe,"type","button"),c(pe,"class","btn btn-sm btn-outline-secondary"),pe.disabled=be=t[2].height>=400,c(P,"class","viewport-dimension svelte-1dy3sam"),c(ae,"class","size-controls svelte-1dy3sam"),c(b,"class","viewport-controls svelte-1dy3sam"),c(h,"class","cropper-container svelte-1dy3sam"),c(d,"class","modal-body svelte-1dy3sam"),c(xe,"type","button"),c(xe,"class","btn btn-warning svelte-1dy3sam"),c(Se,"type","button"),c(Se,"class","btn btn-secondary svelte-1dy3sam"),c(Me,"type","button"),c(Me,"class","btn btn-primary svelte-1dy3sam"),c(ge,"class","modal-footer svelte-1dy3sam"),c(n,"class","modal-content svelte-1dy3sam"),c(r,"class","modal-dialog svelte-1dy3sam"),c(r,"role","dialog"),c(r,"aria-modal","true"),c(r,"aria-labelledby","cropModalTitle"),c(e,"class","modal-backdrop svelte-1dy3sam")},m(We,at){X(We,e,at),m(e,r),m(r,n),m(n,a),m(a,u),m(a,i),m(a,o),m(n,l),m(n,d),m(d,h),m(h,f),t[11](f),m(h,p),m(h,b),m(b,w),m(w,_),m(w,y),m(w,k),m(w,U),m(w,j),m(w,F),m(w,z),m(w,q),m(w,$),m(b,J),m(b,ae),m(ae,Q),m(Q,K),m(Q,de),m(Q,se),m(se,D),m(Q,M),m(Q,G),m(G,L),m(ae,O),m(ae,P),m(P,R),m(P,Z),m(P,Y),m(Y,le),m(P,ve),m(P,pe),m(pe,he),m(n,we),m(n,ge),m(ge,xe),m(ge,Ie),m(ge,Se),m(ge,Ne),m(ge,Me),st||(Le=[ue(o,"click",t[4]),ue(_,"click",t[12]),ue(k,"click",t[13]),ue(j,"click",t[14]),ue(z,"click",t[15]),ue($,"click",t[16]),ue(se,"click",t[17]),ue(G,"click",t[18]),ue(Y,"click",t[19]),ue(pe,"click",t[20]),ue(xe,"click",t[5]),ue(Se,"click",t[4]),ue(Me,"click",t[3]),ue(e,"click",Js(t[4]))],st=!0)},p(We,at){at&4&&A!==(A=We[2].width<=100)&&(se.disabled=A),at&4&&re!==(re=We[2].width>=400)&&(G.disabled=re),at&4&&me!==(me=We[2].height<=100)&&(Y.disabled=me),at&4&&be!==(be=We[2].height>=400)&&(pe.disabled=be)},d(We){We&&V(e),t[11](null),st=!1,Ye(Le)}}}function cv(t){let e,r=t[0]&&_i(t);return{c(){r&&r.c(),e=Ar()},m(n,a){r&&r.m(n,a),X(n,e,a)},p(n,[a]){n[0]?r?r.p(n,a):(r=_i(n),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},i:Ue,o:Ue,d(n){n&&V(e),r&&r.d(n)}}}function fv(t,e,r){let{imageUrl:n}=e,{showModal:a=!1}=e,{initialCropInfo:u=void 0}=e;const i=Dr();let o=null,l,d=u?{width:u.viewportWidth,height:u.viewportHeight}:{width:300,height:300};const h={viewport:{width:d.width,height:d.height},boundary:{width:400,height:400},enableExif:!0,enableResize:!1,showZoomer:!0,enableOrientation:!0};na(()=>{a&&l&&n&&f()});function f(){o&&p(),l?(r(10,o=new Dn(l,h)),o.bind({url:n,zoom:(u==null?void 0:u.zoom)??0,orientation:(u==null?void 0:u.orientation)??1,points:u==null?void 0:u.points})):console.error("Cropper element not found during initialization.")}function p(){o&&(o.destroy(),r(10,o=null))}el(()=>{p()});async function b(){if(o)try{const de=o.get(),se=await o.result({type:"canvas",size:"original",format:"png",quality:1,circle:!1});i("cropComplete",{croppedUrl:se,cropInfo:{points:de.points||[],zoom:de.zoom||0,orientation:de.orientation||1,viewportWidth:d.width,viewportHeight:d.height}})}catch(de){console.error("Cropping failed:",de),alert("画像のクロップに失敗しました。"),w()}}function w(){i("cropCancel")}function _(){i("resetCrop")}function y(de,se){if(!o)return;const D={...d};de==="width"?D.width=Math.max(100,Math.min(400,d.width+se)):D.height=Math.max(100,Math.min(400,d.height+se)),r(2,d=D);const A=o.get();p();const M={...h,viewport:{width:D.width,height:D.height}};l&&(r(10,o=new Dn(l,M)),o.bind({url:n,zoom:A.zoom||0,orientation:A.orientation||1,points:A.points}))}function k(de){if(!o)return;let se=d.width,D=d.height;switch(de){case"1:1":D=se;break;case"4:3":D=Math.round(se*3/4);break;case"16:9":D=Math.round(se*9/16);break;case"3:4":D=Math.round(se*4/3);break;case"9:16":D=Math.round(se*16/9);break}if(D>400)switch(D=400,de){case"1:1":se=D;break;case"4:3":se=Math.round(D*4/3);break;case"16:9":se=Math.round(D*16/9);break;case"3:4":se=Math.round(D*3/4);break;case"9:16":se=Math.round(D*9/16);break}se=Math.max(100,Math.min(400,se)),D=Math.max(100,Math.min(400,D)),r(2,d={width:se,height:D});const A=o.get();p();const M={...h,viewport:{width:se,height:D}};l&&(r(10,o=new Dn(l,M)),o.bind({url:n,zoom:A.zoom||0,orientation:A.orientation||1,points:A.points}))}function U(de){Rt[de?"unshift":"push"](()=>{l=de,r(1,l)})}const j=()=>k("1:1"),F=()=>k("4:3"),z=()=>k("16:9"),q=()=>k("3:4"),$=()=>k("9:16"),J=()=>y("width",-25),ae=()=>y("width",25),Q=()=>y("height",-25),K=()=>y("height",25);return t.$$set=de=>{"imageUrl"in de&&r(8,n=de.imageUrl),"showModal"in de&&r(0,a=de.showModal),"initialCropInfo"in de&&r(9,u=de.initialCropInfo)},t.$$.update=()=>{t.$$.dirty&1795&&(a&&l&&n?o?o.bind({url:n,zoom:(u==null?void 0:u.zoom)??0,orientation:(u==null?void 0:u.orientation)??1,points:u==null?void 0:u.points}):f():!a&&o&&p())},[a,l,d,b,w,_,y,k,n,u,o,U,j,F,z,q,$,J,ae,Q,K]}class hv extends St{constructor(e){super(),Ct(this,e,fv,cv,xt,{imageUrl:8,showModal:0,initialCropInfo:9})}}function ki(t,e,r){const n=t.slice();return n[17]=e[r],n[19]=r,n}function xi(t,e){let r,n,a,u,i,o,l,d,h,f,p,b,w,_,y,k;function U(){return e[12](e[19])}function j(){return e[13](e[19])}return{key:t,first:null,c(){r=x("div"),n=x("img"),i=W(),o=x("button"),l=Ee("×"),h=W(),f=x("button"),p=ke("svg"),b=ke("path"),_=W(),au(n.src,a=e[17].croppedUrl??e[17].originalUrl)||c(n,"src",a),c(n,"alt",u=`preview ${e[19]+1}`),ce(n,"height","100px"),ce(n,"width","auto"),ce(n,"object-fit","contain"),ce(n,"display","block"),c(o,"class","btn btn-danger btn-sm position-absolute top-0 end-0 p-0 m-1 d-flex justify-content-center align-items-center"),ce(o,"line-height","1"),ce(o,"width","1.2rem"),ce(o,"height","1.2rem"),ce(o,"border-radius","50%"),ce(o,"font-size","0.8rem"),c(o,"aria-label",d=`画像を削除 ${e[19]+1}`),c(b,"d","M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"),c(p,"xmlns","http://www.w3.org/2000/svg"),c(p,"width","1em"),c(p,"height","1em"),c(p,"fill","currentColor"),c(p,"class","bi bi-pencil-fill"),c(p,"viewBox","0 0 16 16"),c(f,"class","btn btn-secondary btn-sm position-absolute bottom-0 end-0 p-0 m-1 d-flex justify-content-center align-items-center"),ce(f,"line-height","1"),ce(f,"width","1.2rem"),ce(f,"height","1.2rem"),ce(f,"border-radius","50%"),ce(f,"font-size","0.7rem"),c(f,"aria-label",w=`画像を編集 ${e[19]+1}`),c(r,"class","position-relative d-flex align-items-center justify-content-center"),ce(r,"min-height","100px"),ce(r,"border","1px solid #DFDFDF"),ce(r,"border-radius","3px"),this.first=r},m(F,z){X(F,r,z),m(r,n),m(r,i),m(r,o),m(o,l),m(r,h),m(r,f),m(f,p),m(p,b),m(r,_),y||(k=[ue(o,"click",U),ue(f,"click",j)],y=!0)},p(F,z){e=F,z&1&&!au(n.src,a=e[17].croppedUrl??e[17].originalUrl)&&c(n,"src",a),z&1&&u!==(u=`preview ${e[19]+1}`)&&c(n,"alt",u),z&1&&d!==(d=`画像を削除 ${e[19]+1}`)&&c(o,"aria-label",d),z&1&&w!==(w=`画像を編集 ${e[19]+1}`)&&c(f,"aria-label",w)},d(F){F&&V(r),y=!1,Ye(k)}}}function Ci(t){let e,r,n;function a(i){t[14](i)}let u={imageUrl:t[3].originalUrl,initialCropInfo:t[3].cropInfo};return t[2]!==void 0&&(u.showModal=t[2]),e=new hv({props:u}),Rt.push(()=>qi(e,"showModal",a)),e.$on("cropComplete",t[6]),e.$on("cropCancel",t[7]),e.$on("resetCrop",t[8]),{c(){Mt(e.$$.fragment)},m(i,o){wt(e,i,o),n=!0},p(i,o){const l={};o&8&&(l.imageUrl=i[3].originalUrl),o&8&&(l.initialCropInfo=i[3].cropInfo),!r&&o&4&&(r=!0,l.showModal=i[2],Gi(()=>r=!1)),e.$set(l)},i(i){n||(qe(e.$$.fragment,i),n=!0)},o(i){ot(e.$$.fragment,i),n=!1},d(i){_t(e,i)}}}function vv(t){let e,r,n,a,u,i,o,l=[],d=new Map,h,f,p,b,w=Ft(t[0]);const _=k=>k[17].id;for(let k=0;k<w.length;k+=1){let U=ki(t,w,k),j=_(U);d.set(j,l[k]=xi(j,U))}let y=t[2]&&t[3]&&Ci(t);return{c(){e=x("div"),r=x("div"),n=x("input"),a=W(),u=x("button"),u.innerHTML='<i class="fa fa-plus" aria-hidden="true"></i> 画像を追加',i=W(),o=x("div");for(let k=0;k<l.length;k+=1)l[k].c();h=W(),y&&y.c(),c(n,"type","file"),ce(n,"display","none"),c(n,"accept","image/*"),n.multiple=!0,c(u,"class","btn btn-sm btn-block btn-primary"),c(r,"class","d-flex flex-row align-items-center justify-content-between mb-2"),c(o,"class","d-flex flex-row gap-2 flex-wrap"),c(e,"class","d-flex flex-column")},m(k,U){X(k,e,U),m(e,r),m(r,n),t[10](n),m(r,a),m(r,u),m(e,i),m(e,o);for(let j=0;j<l.length;j+=1)l[j]&&l[j].m(o,null);m(e,h),y&&y.m(e,null),f=!0,p||(b=[ue(n,"change",t[4]),ue(u,"click",t[11])],p=!0)},p(k,[U]){U&545&&(w=Ft(k[0]),l=il(l,U,_,1,k,w,d,o,ul,xi,null,ki)),k[2]&&k[3]?y?(y.p(k,U),U&12&&qe(y,1)):(y=Ci(k),y.c(),qe(y,1),y.m(e,null)):y&&(Vi(),ot(y,1,1,()=>{y=null}),Xi())},i(k){f||(qe(y),f=!0)},o(k){ot(y),f=!1},d(k){k&&V(e),t[10](null);for(let U=0;U<l.length;U+=1)l[U].d();y&&y.d(),p=!1,Ye(b)}}}function pv(t,e,r){let{images:n=[]}=e,a,u=!1,i=null,o=null;na(()=>{document.addEventListener("paste",async F=>{if(F.clipboardData)for(const z of F.clipboardData.items){if(!z.type.startsWith("image/"))continue;const q=z.getAsFile();if(!q)continue;const $=await wi(q),J={id:crypto.randomUUID(),originalUrl:$,croppedUrl:null};r(0,n=[...n,J])}})});const l=async F=>{const z=F.target,q=z.files??[];if(q.length===0)return;const $=[];for(const J of q){const ae=await wi(J);$.push({id:crypto.randomUUID(),originalUrl:ae,croppedUrl:null})}r(0,n=[...n,...$]),z.value=""},d=F=>{o=F;const z=n[F];r(3,i={originalUrl:z.originalUrl,cropInfo:z.cropInfo}),r(2,u=!0)},h=F=>{if(o===null)return;const{croppedUrl:z,cropInfo:q}=F.detail,$=[...n];$[o]={...$[o],croppedUrl:z,cropInfo:q},r(0,n=$),b()},f=()=>{b()},p=()=>{if(o===null)return;const F=[...n];F[o]={...F[o],croppedUrl:null,cropInfo:void 0},r(0,n=F),b()},b=()=>{r(2,u=!1),r(3,i=null),o=null},w=F=>{r(0,n=n.filter((z,q)=>q!==F))};function _(F){Rt[F?"unshift":"push"](()=>{a=F,r(1,a)})}const y=()=>{a.click()},k=F=>w(F),U=F=>d(F);function j(F){u=F,r(2,u)}return t.$$set=F=>{"images"in F&&r(0,n=F.images)},[n,a,u,i,l,d,h,f,p,w,_,y,k,U,j]}class gv extends St{constructor(e){super(),Ct(this,e,pv,vv,xt,{images:0})}}function Si(t,e,r){const n=t.slice();return n[21]=e[r],n}function mv(t){let e,r,n,a,u,i,o,l,d,h,f,p,b,w,_,y,k,U,j,F,z,q,$,J,ae,Q,K,de,se,D,A,M,G,L,re,O,P,R,Z,Y,le,me,ve,pe,he,be,we,ge,xe,Ie,Se,Ne,Me,st,Le,We,at;o=new Mh({}),o.$on("onChange",t[17]),w=new Bh({}),w.$on("onChange",t[17]),z=new qh({}),z.$on("onChange",t[17]);function vr(T,H){return T[7]?wv:yv}let Qe=vr(t),$e=Qe(t);function s(T,H){return T[9]?_v:kv}let g=s(t),v=g(t),C=t[6]&&$i(),S=t[9]&&Pi(t);function E(T){t[34](T)}let B={};return t[8]!==void 0&&(B.images=t[8]),Me=new gv({props:B}),Rt.push(()=>qi(Me,"images",E)),{c(){e=x("div"),r=x("div"),n=x("input"),u=W(),i=x("div"),Mt(o.$$.fragment),l=W(),d=x("div"),h=x("input"),p=W(),b=x("div"),Mt(w.$$.fragment),_=W(),y=x("div"),k=x("input"),j=W(),F=x("div"),Mt(z.$$.fragment),q=W(),$=x("div"),J=x("div"),ae=x("span"),ae.textContent="Message:",Q=W(),K=x("textarea"),de=W(),se=x("div"),D=x("div"),A=x("button"),$e.c(),G=W(),L=x("button"),re=Ee("Clear"),P=W(),R=x("span"),Z=Ee(t[14]),Y=Ee(" / "),le=Ee(In),me=Ee(" 文字"),ve=W(),pe=x("div"),he=x("div"),be=x("span"),be.textContent="Reply:",we=W(),ge=x("div"),v.c(),xe=W(),C&&C.c(),Ie=W(),S&&S.c(),Se=W(),Ne=x("div"),Mt(Me.$$.fragment),c(n,"class","mt-1 form-check-input"),c(n,"type","checkbox"),c(n,"id","mastodon"),n.disabled=a=t[1].mastodon==null,c(i,"class","w-100"),c(r,"class","form-check mb-0 d-flex flex-row align-items-start gap-1"),c(h,"class","mt-1 form-check-input"),c(h,"type","checkbox"),c(h,"id","bluesky"),h.disabled=f=t[1].bluesky==null,c(b,"class","w-100"),c(d,"class","form-check mb-0 d-flex flex-row align-items-start gap-1"),c(k,"class","mt-1 form-check-input"),c(k,"type","checkbox"),c(k,"id","twitter"),k.disabled=U=t[1].twitter==null,c(F,"class","w-100"),c(y,"class","form-check mb-0 d-flex flex-row align-items-start gap-1"),c(e,"class","d-flex flex-column gap-2"),c(ae,"class","h5"),c(K,"class","form-control"),c(K,"id","message"),c(K,"rows","5"),K.disabled=t[7],c(J,"class","mb-3"),c(A,"class","btn btn-primary"),A.disabled=M=t[7]||t[0].length<=0||Array.from(Object.values(t[2])).every(ji),c(L,"class","btn btn-primary-outline"),L.disabled=O=t[0].length<=0&&t[8].length<=0,c(D,"class","d-flex flex-row gap-2"),uu(R,"text-danger",t[14]>In),c(se,"class","d-flex justify-content-between align-items-center"),c($,"class","mt-4"),c(be,"class","h5"),c(ge,"class","d-flex flex-row gap-1 align-items-center"),c(he,"class","d-flex flex-row align-items-center gap-1"),ce(he,"cursor","pointer"),c(pe,"class","mt-4 d-flex flex-column align-items-start gap-1"),c(Ne,"class","mt-4")},m(T,H){X(T,e,H),m(e,r),m(r,n),n.checked=t[2].mastodon,m(r,u),m(r,i),wt(o,i,null),m(e,l),m(e,d),m(d,h),h.checked=t[2].bluesky,m(d,p),m(d,b),wt(w,b,null),m(e,_),m(e,y),m(y,k),k.checked=t[2].twitter,m(y,j),m(y,F),wt(z,F,null),X(T,q,H),X(T,$,H),m($,J),m(J,ae),m(J,Q),m(J,K),Pe(K,t[0]),m($,de),m($,se),m(se,D),m(D,A),$e.m(A,null),m(D,G),m(D,L),m(L,re),m(se,P),m(se,R),m(R,Z),m(R,Y),m(R,le),m(R,me),X(T,ve,H),X(T,pe,H),m(pe,he),m(he,be),m(he,we),m(he,ge),v.m(ge,null),m(ge,xe),C&&C.m(ge,null),m(pe,Ie),S&&S.m(pe,null),X(T,Se,H),X(T,Ne,H),wt(Me,Ne,null),Le=!0,We||(at=[ue(n,"change",t[22]),ue(h,"change",t[23]),ue(k,"change",t[24]),ue(K,"input",t[25]),ue(K,"change",t[26]),ue(A,"click",t[27]),ue(L,"click",t[28]),ue(he,"click",t[29])],We=!0)},p(T,H){(!Le||H[0]&2&&a!==(a=T[1].mastodon==null))&&(n.disabled=a),H[0]&4&&(n.checked=T[2].mastodon),(!Le||H[0]&2&&f!==(f=T[1].bluesky==null))&&(h.disabled=f),H[0]&4&&(h.checked=T[2].bluesky),(!Le||H[0]&2&&U!==(U=T[1].twitter==null))&&(k.disabled=U),H[0]&4&&(k.checked=T[2].twitter),(!Le||H[0]&128)&&(K.disabled=T[7]),H[0]&1&&Pe(K,T[0]),Qe===(Qe=vr(T))&&$e?$e.p(T,H):($e.d(1),$e=Qe(T),$e&&($e.c(),$e.m(A,null))),(!Le||H[0]&133&&M!==(M=T[7]||T[0].length<=0||Array.from(Object.values(T[2])).every(ji)))&&(A.disabled=M),(!Le||H[0]&257&&O!==(O=T[0].length<=0&&T[8].length<=0))&&(L.disabled=O),(!Le||H[0]&16384)&&Lt(Z,T[14]),(!Le||H[0]&16384)&&uu(R,"text-danger",T[14]>In),g!==(g=s(T))&&(v.d(1),v=g(T),v&&(v.c(),v.m(ge,xe))),T[6]?C||(C=$i(),C.c(),C.m(ge,null)):C&&(C.d(1),C=null),T[9]?S?S.p(T,H):(S=Pi(T),S.c(),S.m(pe,null)):S&&(S.d(1),S=null);const ne={};!st&&H[0]&256&&(st=!0,ne.images=T[8],Gi(()=>st=!1)),Me.$set(ne)},i(T){Le||(qe(o.$$.fragment,T),qe(w.$$.fragment,T),qe(z.$$.fragment,T),qe(Me.$$.fragment,T),Le=!0)},o(T){ot(o.$$.fragment,T),ot(w.$$.fragment,T),ot(z.$$.fragment,T),ot(Me.$$.fragment,T),Le=!1},d(T){T&&(V(e),V(q),V($),V(ve),V(pe),V(Se),V(Ne)),_t(o),_t(w),_t(z),$e.d(),v.d(),C&&C.d(),S&&S.d(),_t(Me),We=!1,Ye(at)}}}function bv(t){let e;return{c(){e=x("span"),e.textContent="loading..",c(e,"class","loading")},m(r,n){X(r,e,n)},p:Ue,i:Ue,o:Ue,d(r){r&&V(e)}}}function yv(t){let e,r,n,a,u,i=t[1].mastodon!=null&&t[2].mastodon&&Ei(),o=t[1].bluesky!=null&&t[2].bluesky&&Oi(),l=t[1].twitter!=null&&t[2].twitter&&Ti();return{c(){e=x("div"),i&&i.c(),r=W(),o&&o.c(),n=W(),l&&l.c(),a=W(),u=x("span"),u.textContent="Post",c(e,"class","d-flex flex-row align-items-center gap-1")},m(d,h){X(d,e,h),i&&i.m(e,null),m(e,r),o&&o.m(e,null),m(e,n),l&&l.m(e,null),m(e,a),m(e,u)},p(d,h){d[1].mastodon!=null&&d[2].mastodon?i||(i=Ei(),i.c(),i.m(e,r)):i&&(i.d(1),i=null),d[1].bluesky!=null&&d[2].bluesky?o||(o=Oi(),o.c(),o.m(e,n)):o&&(o.d(1),o=null),d[1].twitter!=null&&d[2].twitter?l||(l=Ti(),l.c(),l.m(e,a)):l&&(l.d(1),l=null)},d(d){d&&V(e),i&&i.d(),o&&o.d(),l&&l.d()}}}function wv(t){let e,r,n;return{c(){e=x("div"),e.innerHTML='<span class="visually-hidden">Loading...</span>',r=W(),n=x("span"),n.textContent="Posting...",c(e,"class","spinner-border spinner-border-sm"),c(e,"role","status")},m(a,u){X(a,e,u),X(a,r,u),X(a,n,u)},p:Ue,d(a){a&&(V(e),V(r),V(n))}}}function Ei(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"d","M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","14"),c(e,"height","14"),c(e,"fill","currentColor"),c(e,"class","bi bi-mastodon"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function Oi(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill","currentColor"),c(r,"d","M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"viewBox","0 -3.268 64 68.414"),c(e,"width","16"),c(e,"height","16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function Ti(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"),ce(e,"margin-top","-2px"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","16"),c(e,"height","16"),c(e,"fill","currentColor"),c(e,"class","bi bi-twitter"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function _v(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-down"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function kv(t){let e,r;return{c(){e=ke("svg"),r=ke("path"),c(r,"fill-rule","evenodd"),c(r,"d","M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"width","18"),c(e,"height","18"),c(e,"fill","currentColor"),c(e,"class","bi bi-chevron-right"),c(e,"viewBox","0 0 16 16")},m(n,a){X(n,e,a),m(e,r)},d(n){n&&V(e)}}}function $i(t){let e;return{c(){e=x("div"),e.innerHTML='<span class="visually-hidden">Loading...</span>',c(e,"class","spinner-border spinner-border-sm"),c(e,"role","status")},m(r,n){X(r,e,n)},d(r){r&&V(e)}}}function Pi(t){let e,r,n,a,u,i,o=Ft(t[4]),l=[];for(let h=0;h<o.length;h+=1)l[h]=Ui(Si(t,o,h));let d=t[13].display_posted_at==null&&Ai(t);return{c(){e=x("select"),r=x("option"),r.textContent="Manual reply";for(let h=0;h<l.length;h+=1)l[h].c();n=W(),d&&d.c(),a=Ar(),r.__value="Manual reply",Pe(r,r.__value),c(e,"class","form-select form-select-sm"),t[13]===void 0&&er(()=>t[30].call(e))},m(h,f){X(h,e,f),m(e,r);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(e,null);Er(e,t[13],!0),X(h,n,f),d&&d.m(h,f),X(h,a,f),u||(i=ue(e,"change",t[30]),u=!0)},p(h,f){if(f[0]&1048592){o=Ft(h[4]);let p;for(p=0;p<o.length;p+=1){const b=Si(h,o,p);l[p]?l[p].p(b,f):(l[p]=Ui(b),l[p].c(),l[p].m(e,null))}for(;p<l.length;p+=1)l[p].d(1);l.length=o.length}f[0]&8208&&Er(e,h[13]),h[13].display_posted_at==null?d?d.p(h,f):(d=Ai(h),d.c(),d.m(a.parentNode,a)):d&&(d.d(1),d=null)},d(h){h&&(V(e),V(n),V(a)),Wi(l,h),d&&d.d(h),u=!1,i()}}}function Ui(t){let e,r=t[21].display_posted_at+"",n,a,u=t[21].trimmed_text+"",i,o,l=t[20](t[21])+"",d,h;return{c(){e=x("option"),n=Ee(r),a=Ee(" - "),i=Ee(u),o=W(),d=Ee(l),e.__value=h=t[21],Pe(e,e.__value)},m(f,p){X(f,e,p),m(e,n),m(e,a),m(e,i),m(e,o),m(e,d)},p(f,p){p[0]&16&&r!==(r=f[21].display_posted_at+"")&&Lt(n,r),p[0]&16&&u!==(u=f[21].trimmed_text+"")&&Lt(i,u),p[0]&16&&l!==(l=f[20](f[21])+"")&&Lt(d,l),p[0]&16&&h!==(h=f[21])&&(e.__value=h,Pe(e,e.__value))},d(f){f&&V(e)}}}function Ai(t){let e,r,n,a,u,i=t[1].mastodon!=null&&t[2].mastodon&&Di(t),o=t[1].bluesky!=null&&t[2].bluesky&&Ii(t),l=t[1].twitter!=null&&t[2].twitter&&Mi(t);return{c(){e=x("div"),e.textContent="- OR -",r=W(),i&&i.c(),n=W(),o&&o.c(),a=W(),l&&l.c(),u=Ar(),c(e,"class","my-2")},m(d,h){X(d,e,h),X(d,r,h),i&&i.m(d,h),X(d,n,h),o&&o.m(d,h),X(d,a,h),l&&l.m(d,h),X(d,u,h)},p(d,h){d[1].mastodon!=null&&d[2].mastodon?i?i.p(d,h):(i=Di(d),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null),d[1].bluesky!=null&&d[2].bluesky?o?o.p(d,h):(o=Ii(d),o.c(),o.m(a.parentNode,a)):o&&(o.d(1),o=null),d[1].twitter!=null&&d[2].twitter?l?l.p(d,h):(l=Mi(d),l.c(),l.m(u.parentNode,u)):l&&(l.d(1),l=null)},d(d){d&&(V(e),V(r),V(n),V(a),V(u)),i&&i.d(d),o&&o.d(d),l&&l.d(d)}}}function Di(t){let e,r,n,a,u,i,o;return{c(){e=x("div"),r=ke("svg"),n=ke("path"),a=W(),u=x("input"),c(n,"d","M11.19 12.195c2.016-.24 3.77-1.475 3.99-2.603.348-1.778.32-4.339.32-4.339 0-3.47-2.286-4.488-2.286-4.488C12.062.238 10.083.017 8.027 0h-.05C5.92.017 3.942.238 2.79.765c0 0-2.285 1.017-2.285 4.488l-.002.662c-.004.64-.007 1.35.011 2.091.083 3.394.626 6.74 3.78 7.57 1.454.383 2.703.463 3.709.408 1.823-.1 2.847-.647 2.847-.647l-.06-1.317s-1.303.41-2.767.36c-1.45-.05-2.98-.156-3.215-1.928a3.614 3.614 0 0 1-.033-.496s1.424.346 3.228.428c1.103.05 2.137-.064 3.188-.189zm1.613-2.47H11.13v-4.08c0-.859-.364-1.295-1.091-1.295-.804 0-1.207.517-1.207 1.541v2.233H7.168V5.89c0-1.024-.403-1.541-1.207-1.541-.727 0-1.091.436-1.091 1.296v4.079H3.197V5.522c0-.859.22-1.541.66-2.046.456-.505 1.052-.764 1.793-.764.856 0 1.504.328 1.933.983L8 4.39l.417-.695c.429-.655 1.077-.983 1.934-.983.74 0 1.336.259 1.791.764.442.505.661 1.187.661 2.046v4.203z"),ce(r,"width","18px"),c(r,"xmlns","http://www.w3.org/2000/svg"),c(r,"width","14"),c(r,"height","14"),c(r,"fill","currentColor"),c(r,"class","bi bi-mastodon"),c(r,"viewBox","0 0 16 16"),c(u,"class","form-control"),c(u,"type","text"),c(u,"placeholder","Toot URL or ID"),ce(e,"width","100%"),c(e,"class","d-flex flex-row align-items-center gap-1")},m(l,d){X(l,e,d),m(e,r),m(r,n),m(e,a),m(e,u),Pe(u,t[10]),i||(o=ue(u,"input",t[31]),i=!0)},p(l,d){d[0]&1024&&u.value!==l[10]&&Pe(u,l[10])},d(l){l&&V(e),i=!1,o()}}}function Ii(t){let e,r,n,a,u,i,o;return{c(){e=x("div"),r=ke("svg"),n=ke("path"),a=W(),u=x("input"),c(n,"fill","currentColor"),c(n,"d","M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805zm36.254 0C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745z"),ce(r,"width","18px"),c(r,"xmlns","http://www.w3.org/2000/svg"),c(r,"viewBox","0 -3.268 64 68.414"),c(r,"width","16"),c(r,"height","16"),c(u,"class","form-control"),c(u,"type","text"),c(u,"placeholder","Post URL or ID"),ce(e,"width","100%"),c(e,"class","d-flex flex-row align-items-center gap-1")},m(l,d){X(l,e,d),m(e,r),m(r,n),m(e,a),m(e,u),Pe(u,t[11]),i||(o=ue(u,"input",t[32]),i=!0)},p(l,d){d[0]&2048&&u.value!==l[11]&&Pe(u,l[11])},d(l){l&&V(e),i=!1,o()}}}function Mi(t){let e,r,n,a,u,i,o;return{c(){e=x("div"),r=ke("svg"),n=ke("path"),a=W(),u=x("input"),c(n,"d","M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"),ce(r,"width","18px"),ce(r,"margin-top","-2px"),c(r,"xmlns","http://www.w3.org/2000/svg"),c(r,"width","16"),c(r,"height","16"),c(r,"fill","currentColor"),c(r,"class","bi bi-twitter"),c(r,"viewBox","0 0 16 16"),c(u,"class","form-control"),c(u,"type","text"),c(u,"placeholder","Tweet URL or ID"),ce(e,"width","100%"),c(e,"class","d-flex flex-row align-items-center gap-1")},m(l,d){X(l,e,d),m(e,r),m(r,n),m(e,a),m(e,u),Pe(u,t[12]),i||(o=ue(u,"input",t[33]),i=!0)},p(l,d){d[0]&4096&&u.value!==l[12]&&Pe(u,l[12])},d(l){l&&V(e),i=!1,o()}}}function Li(t){let e,r,n,a,u=t[3].build_at+"",i,o,l,d,h=t[3].env_ver+"",f;return{c(){e=x("span"),e.textContent=`spa_build: ${t[15]}`,r=W(),n=x("span"),a=Ee("api_build: "),i=Ee(u),o=W(),l=x("span"),d=Ee("api_ver: "),f=Ee(h)},m(p,b){X(p,e,b),X(p,r,b),X(p,n,b),m(n,a),m(n,i),X(p,o,b),X(p,l,b),m(l,d),m(l,f)},p(p,b){b[0]&8&&u!==(u=p[3].build_at+"")&&Lt(i,u),b[0]&8&&h!==(h=p[3].env_ver+"")&&Lt(f,h)},d(p){p&&(V(e),V(r),V(n),V(o),V(l))}}}function xv(t){var w;let e,r,n,a,u,i,o,l,d;const h=[bv,mv],f=[];function p(_,y){return _[5]?0:1}e=p(t),r=f[e]=h[e](t);let b=((w=t[3].env_ver)==null?void 0:w.length)>0&&Li(t);return{c(){r.c(),n=W(),a=x("div"),u=x("button"),u.textContent="version",i=W(),b&&b.c(),c(u,"class","btn btn-sm btn-block btn-link"),c(a,"class","mt-4 d-flex flex-column align-items-end"),ce(a,"font-size","90%")},m(_,y){f[e].m(_,y),X(_,n,y),X(_,a,y),m(a,u),m(a,i),b&&b.m(a,null),o=!0,l||(d=ue(u,"click",t[18]),l=!0)},p(_,y){var U;let k=e;e=p(_),e===k?f[e].p(_,y):(Vi(),ot(f[k],1,1,()=>{f[k]=null}),Xi(),r=f[e],r?r.p(_,y):(r=f[e]=h[e](_),r.c()),qe(r,1),r.m(n.parentNode,n)),((U=_[3].env_ver)==null?void 0:U.length)>0?b?b.p(_,y):(b=Li(_),b.c(),b.m(a,null)):b&&(b.d(1),b=null)},i(_){o||(qe(r),o=!0)},o(_){ot(r),o=!1},d(_){_&&(V(n),V(a)),f[e].d(_),b&&b.d(),l=!1,d()}}}const In=140,ji=t=>!t;function Cv(t,e,r){var O;let n;const a=window.built_at??"";let u={build_at:"",env_ver:""},i=[],o=!0,l=!1,d=!1,h=((O=Th())==null?void 0:O.message)??"",f=[],p=!1,b="",w="",_="",y={display_posted_at:void 0,trimmed_text:"",postOfType:{mastodon:void 0,bluesky:void 0,twitter:void 0}};na(async()=>{console.log("onMount");try{const P=new URLSearchParams(window.location.search),R=P.get("text"),Z=P.get("url");((R==null?void 0:R.length)??0)>0?r(0,h=R??""):((Z==null?void 0:Z.length)??0)>0&&r(0,h=Z??"")}finally{r(5,o=!1)}});const k=()=>{Oh({message:h})},U=async()=>{var P,R,Z;try{r(7,d=!0);const Y=ve=>{if(((ve==null?void 0:ve.length)??0)==0)return"";const he=new URL(ve).pathname.split("/");return he[he.length-1]},le=f.map(ve=>ve.croppedUrl??ve.originalUrl),me=await rv(h,le,{reply_to_ids:{mastodon:Y(((P=y==null?void 0:y.postOfType.mastodon)==null?void 0:P.url)??b),twitter:Y(((R=y==null?void 0:y.postOfType.twitter)==null?void 0:R.url)??_),bluesky:Y(((Z=y==null?void 0:y.postOfType.bluesky)==null?void 0:Z.url)??w)}});me.errors.length==0?(r(0,h=""),k(),r(8,f=[]),r(10,b=""),r(11,w=""),r(12,_=""),r(13,y={display_posted_at:void 0,trimmed_text:"",postOfType:{mastodon:void 0,bluesky:void 0,twitter:void 0}}),alert("投稿しました。")):alert(`${me.errors.join(", ")}に投稿できませんでした。`)}catch{}finally{r(7,d=!1)}},j=()=>{r(1,_e.mastodon=lt("mastodon"),_e),r(1,_e.bluesky=lt("bluesky"),_e),r(1,_e.twitter=lt("twitter"),_e),Object.entries(Xe).forEach(([P,R])=>{var Z;r(2,Xe[P]=((Z=_e==null?void 0:_e[P])==null?void 0:Z.enabled)??!1,Xe)})},F=async()=>{r(3,u=await ev())},z=async()=>{r(4,i=[]),r(6,l=!0),r(4,i=await tv()),r(6,l=!1)},q=P=>{const R=Object.entries(P.postOfType).filter(([Z,Y])=>Y!=null).map(([Z,Y])=>Z);return R.length>0?`(${R.join(", ")})`:""};function $(){Xe.mastodon=this.checked,r(2,Xe)}function J(){Xe.bluesky=this.checked,r(2,Xe)}function ae(){Xe.twitter=this.checked,r(2,Xe)}function Q(){h=this.value,r(0,h)}const K=()=>k(),de=()=>U(),se=()=>{r(0,h=""),r(8,f=[]),r(10,b=""),r(11,w=""),r(12,_=""),r(13,y={display_posted_at:void 0,trimmed_text:"",postOfType:{mastodon:void 0,bluesky:void 0,twitter:void 0}}),k()},D=async()=>{r(9,p=!p),p&&!l&&await z()};function A(){y=Hi(this),r(13,y),r(4,i)}function M(){b=this.value,r(10,b)}function G(){w=this.value,r(11,w)}function L(){_=this.value,r(12,_)}function re(P){f=P,r(8,f)}return t.$$.update=()=>{t.$$.dirty[0]&1&&r(14,n=Sh.parseTweet(h).weightedLength/2)},[h,_e,Xe,u,i,o,l,d,f,p,b,w,_,y,n,a,k,j,F,z,q,U,$,J,ae,Q,K,de,se,D,A,M,G,L,re]}class Sv extends St{constructor(e){super(),Ct(this,e,Cv,xv,xt,{},null,[-1,-1])}}function Ev(t){let e,r,n,a,u;return a=new Sv({}),{c(){e=x("div"),e.innerHTML='<h1 class="app-title svelte-8yggca">PPPOST</h1>',r=W(),n=x("main"),Mt(a.$$.fragment),c(e,"class","app-header svelte-8yggca"),c(n,"class","container-md app-main svelte-8yggca")},m(i,o){X(i,e,o),X(i,r,o),X(i,n,o),wt(a,n,null),u=!0},p:Ue,i(i){u||(qe(a.$$.fragment,i),u=!0)},o(i){ot(a.$$.fragment,i),u=!1},d(i){i&&(V(e),V(r),V(n)),_t(a)}}}class Ov extends St{constructor(e){super(),Ct(this,e,null,Ev,xt,{})}}new Ov({target:document.getElementById("app")});
